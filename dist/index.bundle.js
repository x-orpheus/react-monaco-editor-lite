/*! For license information please see index.bundle.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("react-dom"));else if("function"==typeof define&&define.amd)define(["react","react-dom"],t);else{var n="object"==typeof exports?t(require("react"),require("react-dom")):t(e.react,e["react-dom"]);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(function(e,t){return(()=>{var n={619:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([e.id,".music-monaco-editor-button {\n  padding: 5px 15px;\n  border-radius: 20px;\n  font-size: 14px;\n  background: var(--monaco-button-background);\n  color: var(--monaco-button-foreground);\n  cursor: pointer;\n}\n.music-monaco-editor-button:hover {\n  opacity: 0.8;\n}\n.music-monaco-editor-button-primary {\n  background: var(--monaco-editorCursor-foreground);\n}\n",""]);const s=a},856:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([e.id,".music-monaco-editor-list-wrapper {\n  width: 180px;\n  font-size: 14px;\n  line-height: 28px;\n  height: 100%;\n  background: var(--monaco-editor-background);\n  color: var(--monaco-editor-foreground);\n  overflow: scroll;\n  flex-shrink: 0;\n  padding: 5px 0 0 10px;\n  box-sizing: border-box;\n}\n.music-monaco-editor-list-title {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  height: 28px;\n  user-select: none;\n  cursor: pointer;\n  line-height: 28px;\n}\n.music-monaco-editor-list-title-icon {\n  visibility: hidden;\n  font-size: 16px;\n  color: var(--monaco-editor-foreground);\n  margin-right: 4px;\n}\n.music-monaco-editor-list-title-icon:hover {\n  color: var(--monaco-list-hoverForeground);\n}\n.music-monaco-editor-list-title-name {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.music-monaco-editor-list-title:hover .music-monaco-editor-list-title-icon {\n  visibility: visible;\n}\n.music-monaco-editor-list-split-icon {\n  visibility: hidden;\n  font-size: 16px;\n  color: var(--monaco-editor-foreground);\n  margin-right: 4px;\n}\n.music-monaco-editor-list-split-icon:hover {\n  color: var(--monaco-list-hoverForeground);\n}\n.music-monaco-editor-list-file-item {\n  user-select: none;\n}\n.music-monaco-editor-list-file-item-new {\n  position: relative;\n  flex: 1;\n  outline: none;\n  border: 1px solid var(--monaco-editor-wordHighlightBorder);\n}\n.music-monaco-editor-list-file-item-new:focus {\n  cursor: text;\n}\n.music-monaco-editor-list-file-item-new-error {\n  border: 1px solid #F44747;\n}\n.music-monaco-editor-list-file-item-row {\n  height: 28px;\n  cursor: pointer;\n  user-select: none;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  position: relative;\n}\n.music-monaco-editor-list-file-item-row:hover {\n  background-color: var(--monaco-list-hoverBackground);\n  color: var(--monaco-list-hoverForeground);\n}\n.music-monaco-editor-list-file-item-row:hover .music-monaco-editor-list-split-icon {\n  visibility: visible;\n}\n.music-monaco-editor-list-file-item-row-focused {\n  background-color: var(--monaco-list-focusBackground);\n  color: var(--monaco-list-focusForeground);\n}\n.music-monaco-editor-list-file-item-row-name {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n",""]);const s=a},474:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([e.id,".music-monaco-icons {\n  width: 14px;\n  height: 14px;\n}\n",""]);const s=a},150:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([e.id,".music-monaco-editor-modal {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n}\n.music-monaco-editor-modal-mask {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.2);\n}\n.music-monaco-editor-modal-content {\n  position: relative;\n  border-radius: 8px;\n  box-shadow: 0px 5px 30px rgba(0, 0, 0, 0.15);\n}\n.music-monaco-editor-modal-content-confirm {\n  width: 400px;\n  background: var(--monaco-editor-background);\n  border-radius: 8px;\n  color: var(--monaco-list-activeSelectionForeground);\n  padding-bottom: 8px;\n}\n.music-monaco-editor-modal-content-title {\n  background: var(--monaco-activityBarBadge-background);\n  color: var(--monaco-activityBarBadge-foreground);\n  height: 30px;\n  border-radius: 8px 8px 0 0;\n  padding-left: 10px;\n  line-height: 30px;\n}\n.music-monaco-editor-modal-content-content {\n  font-size: 14px;\n  padding: 20px;\n}\n.music-monaco-editor-modal-content-footer {\n  padding: 0 10px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n}\n.music-monaco-editor-modal-content-close {\n  position: absolute;\n  right: 10px;\n  top: 5px;\n  cursor: pointer;\n  color: var(--monaco-activityBarBadge-foreground);\n}\n.music-monaco-editor-modal-content-close:focus {\n  color: var(--monaco-list-hoverForeground);\n}\n",""]);const s=a},798:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([e.id,".music-monaco-editor-opened-tab {\n  height: 35px;\n  box-sizing: border-box;\n  font-size: 14px;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  width: 100%;\n  white-space: nowrap;\n  background-color: var(--monaco-editor-background);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  /* 滚动槽 */\n  /* 滚动条滑块 */\n}\n.music-monaco-editor-opened-tab::-webkit-scrollbar {\n  width: 6px;\n  height: 6px;\n}\n.music-monaco-editor-opened-tab::-webkit-scrollbar-track {\n  background: var(--monaco-editor-background);\n  box-shadow: inset 0 0 5px var(--monaco-scrollbar-shadow);\n  -webkit-box-shadow: inset 0 0 5px var(--monaco-scrollbar-shadow);\n}\n.music-monaco-editor-opened-tab::-webkit-scrollbar-thumb {\n  border-radius: 3px;\n  background: var(--monaco-scrollbarSlider-background);\n  box-shadow: inset 0 0 5px var(--monaco-scrollbar-shadow);\n  -webkit-box-shadow: inset 0 0 5px var(--monaco-scrollbar-shadow);\n}\n.music-monaco-editor-opened-tab-wrapper {\n  box-sizing: border-box;\n  width: 100%;\n  padding-right: 30px;\n  overflow: hidden;\n}\n.music-monaco-editor-opened-tab-item {\n  cursor: pointer;\n  height: 35px;\n  box-sizing: border-box;\n  padding: 0 5px 0 10px;\n  display: flex;\n  align-items: center;\n  margin-right: 1px;\n  background-color: var(--monaco-editor-background);\n  position: relative;\n}\n.music-monaco-editor-opened-tab-item-prefix {\n  font-size: 12px;\n  opacity: 0.7;\n}\n.music-monaco-editor-opened-tab-item-focused {\n  background-color: var(--monaco-list-focusBackground);\n  color: var(--monaco-list-focusForeground);\n}\n.music-monaco-editor-opened-tab-item:hover {\n  background-color: var(--monaco-list-hoverBackground);\n  color: var(--monaco-list-hoverForeground);\n}\n.music-monaco-editor-opened-tab-item-close {\n  position: relative;\n  padding: 5px 5px;\n  line-height: 10px;\n}\n.music-monaco-editor-opened-tab-item-close:hover {\n  background-color: var(--monaco-list-focusBackground);\n}\n.music-monaco-editor-opened-tab-item-editing {\n  position: absolute;\n  right: 10px;\n  top: 15px;\n  width: 7px;\n  height: 7px;\n  background-color: var(--monaco-list-hoverForeground, grey);\n  border-radius: 50%;\n}\n.music-monaco-editor-modal-rightclick .music-monaco-editor-modal-mask {\n  opacity: 0;\n}\n.music-monaco-editor-rightclick-panel {\n  position: fixed;\n  background: var(--monaco-editorWidget-background);\n  padding: 5px 0;\n  font-size: 12px;\n  line-height: 30px;\n  min-width: 150px;\n  color: var(--monaco-editor-foreground);\n}\n.music-monaco-editor-rightclick-panel-item {\n  padding: 0 10px;\n  cursor: pointer;\n}\n.music-monaco-editor-rightclick-panel-item:hover {\n  color: var(--monaco-list-hoverForeground);\n  background: var(--monaco-list-focusBackground);\n}\n",""]);const s=a},115:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([e.id,".music-monaco-editor-prettier-icon {\n  color: var(--monaco-editor-foreground);\n}\n.music-monaco-editor-prettier-icon:hover {\n  color: var(--monaco-list-hoverForeground);\n}\n",""]);const s=a},591:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([e.id,".music-monaco-editor-select {\n  width: 140px;\n  height: 19px;\n  position: relative;\n  display: inline-block;\n  background: var(--monaco-list-activeSelectionBackground);\n  color: var(--monaco-list-activeSelectionForeground);\n  user-select: none;\n  font-size: 12px;\n  line-height: 19px;\n  border: 1px solid var(--monaco-checkbox-border);\n  cursor: pointer;\n}\n.music-monaco-editor-select-content {\n  padding-left: 10px;\n  position: relative;\n}\n.music-monaco-editor-select-content-arrow {\n  position: absolute;\n  top: 1px;\n  right: 5px;\n}\n.music-monaco-editor-select-items {\n  font-size: 12px;\n  color: var(--monaco-list-activeSelectionForeground);\n  line-height: 19px;\n  box-sizing: border-box;\n  cursor: pointer;\n  border: 1px solid var(--monaco-checkbox-border);\n  position: absolute;\n  top: 19px;\n  left: 0;\n  right: 0;\n  max-height: 100px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  /* 滚动槽 */\n  /* 滚动条滑块 */\n}\n.music-monaco-editor-select-items::-webkit-scrollbar {\n  width: 6px;\n  height: 6px;\n}\n.music-monaco-editor-select-items::-webkit-scrollbar-track {\n  background: var(--monaco-editor-background);\n  box-shadow: inset 0 0 5px var(--monaco-scrollbar-shadow);\n  -webkit-box-shadow: inset 0 0 5px var(--monaco-scrollbar-shadow);\n}\n.music-monaco-editor-select-items::-webkit-scrollbar-thumb {\n  border-radius: 3px;\n  background: var(--monaco-scrollbarSlider-background);\n  box-shadow: inset 0 0 5px var(--monaco-scrollbar-shadow);\n  -webkit-box-shadow: inset 0 0 5px var(--monaco-scrollbar-shadow);\n}\n.music-monaco-editor-select-item {\n  cursor: pointer;\n  padding-left: 10px;\n}\n.music-monaco-editor-select-item-selected {\n  background: var(--monaco-list-activeSelectionBackground);\n  color: var(--monaco-list-activeSelectionForeground);\n  opacity: 0.8;\n}\n.music-monaco-editor-select-item:hover {\n  background: var(--monaco-list-activeSelectionBackground);\n  color: var(--monaco-list-activeSelectionForeground);\n}\n",""]);const s=a},778:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([e.id,".music-monaco-editor-highlight {\n  background: rgba(0, 0, 0, 0.08);\n}\n.music-monaco-editor {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: flex-start;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  color: var(--monaco-editor-foreground);\n}\n.music-monaco-editor-drag {\n  width: 5px;\n  background: var(--monaco-editor-background);\n  border-right: 1px solid var(--monaco-activityBar-border);\n  height: 100%;\n  cursor: col-resize;\n  flex-shrink: 0;\n}\n.music-monaco-editor-drag:hover {\n  background: var(--monaco-editorCursor-foreground);\n}\n.music-monaco-editor-area {\n  color: var(--monaco-editor-foreground);\n  background-color: var(--monaco-editor-background);\n  flex: 1;\n  min-width: 0;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: flex-start;\n  position: relative;\n}\n.music-monaco-editor-area-empty {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: var(--monaco-editor-background);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  user-select: none;\n}\n.music-monaco-editor-area-empty-icon {\n  user-select: none;\n  width: 100px;\n  height: 100px;\n  margin-bottom: 20px;\n}\n.music-monaco-editor-setting {\n  width: 400px;\n  height: 200px;\n  background: var(--monaco-editor-background);\n  border-radius: 10px;\n  color: var(--monaco-list-activeSelectionForeground);\n  display: flex;\n  flex-direction: column;\n}\n.music-monaco-editor-setting-button {\n  cursor: pointer;\n  position: absolute;\n  left: 8px;\n  bottom: 5px;\n}\n.music-monaco-editor-setting-header {\n  position: relative;\n  height: 28px;\n  line-height: 28px;\n  width: 100%;\n  background: var(--monaco-activityBarBadge-background);\n  color: var(--monaco-activityBarBadge-foreground);\n  border-radius: 8px 8px 0 0;\n  box-sizing: border-box;\n  padding-left: 10px;\n}\n.music-monaco-editor-setting-header-close {\n  cursor: pointer;\n  line-height: 12px;\n  height: 12px;\n  top: 4px;\n  padding: 4px;\n  position: absolute;\n  right: 10px;\n}\n.music-monaco-editor-setting-content {\n  flex-grow: 1;\n  padding: 10px 10px 10px 30px;\n  overflow-y: scroll;\n}\n.music-monaco-editor-prettier {\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  cursor: pointer;\n}\n.music-monaco-editor-input-row {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-top: 10px;\n}\n.music-monaco-editor-input-name {\n  font-size: 12px;\n  line-height: 20px;\n  width: 100px;\n  text-align: left;\n}\n.music-monaco-editor-input-value {\n  font-size: 12px;\n  line-height: 20px;\n}\n.music-monaco-editor-loading {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n  background: var(--monaco-editor-background);\n}\n.music-monaco-editor-loading-icon {\n  width: 60px;\n  height: 60px;\n}\n",""]);const s=a},125:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([e.id,".music-monaco-editor-loading {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n  background: var(--monaco-editor-background);\n}\n.music-monaco-editor-loading-icon {\n  width: 60px;\n  height: 60px;\n}\n.music-monaco-editor-highlight {\n  background: rgba(0, 0, 0, 0.08);\n}\n",""]);const s=a},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},209:(e,t)=>{"use strict";function n(e,t,n){var r=e.length,o=0,i=1,a=0;function s(t){if(null===n)o+=t;else for(;t>0;)10===e.charCodeAt(o)?(o++,i++,a=0):(o++,a++),t--}function c(e){null===n?o=e:s(e-o)}function u(){for(;o<r;){var t=e.charCodeAt(o);if(32!==t&&9!==t&&13!==t&&10!==t)break;s(1)}}function l(t){return e.substr(o,t.length)===t&&(s(t.length),!0)}function d(t){var n=e.indexOf(t,o);c(-1!==n?n+t.length:r)}function h(t){var n=e.indexOf(t,o);if(-1!==n){var i=e.substring(o,n);return c(n+t.length),i}return i=e.substr(o),c(r),i}r>0&&65279===e.charCodeAt(0)&&(o=1);var f=0,p=null,m=[],g=[],v=null;function y(e,t){m.push(f),g.push(p),f=e,p=t}function b(){f=m.pop(),p=g.pop()}function w(t){throw new Error("Near offset "+o+": "+t+" ~~~"+e.substr(o,50)+"~~~")}var x,_,k,C,j,S=function(){null===v&&w("missing <key>");var e={};null!==n&&(e[n]={filename:t,line:i,char:a}),p[v]=e,v=null,y(1,e)},E=function(){null===v&&w("missing <key>");var e=[];p[v]=e,v=null,y(2,e)};function A(){1===f?b():w("unexpected </dict>")}function O(){1===f?w("unexpected </array>"):2===f?b():w("unexpected </array>")}function T(e){1===f?(null===v&&w("missing <key>"),p[v]=e,v=null):2===f?p.push(e):p=e}function P(e){isNaN(e)&&w("cannot parse float"),1===f?(null===v&&w("missing <key>"),p[v]=e,v=null):2===f?p.push(e):p=e}function R(e){isNaN(e)&&w("cannot parse integer"),1===f?(null===v&&w("missing <key>"),p[v]=e,v=null):2===f?p.push(e):p=e}function N(e){1===f?(null===v&&w("missing <key>"),p[v]=e,v=null):2===f?p.push(e):p=e}function M(e){1===f?(null===v&&w("missing <key>"),p[v]=e,v=null):2===f?p.push(e):p=e}function I(e){1===f?(null===v&&w("missing <key>"),p[v]=e,v=null):2===f?p.push(e):p=e}function F(e){if(e.isClosed)return"";var t=h("</");return d(">"),t.replace(/&#([0-9]+);/g,(function(e,t){return String.fromCodePoint(parseInt(t,10))})).replace(/&#x([0-9a-f]+);/g,(function(e,t){return String.fromCodePoint(parseInt(t,16))})).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,(function(e){switch(e){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return e}))}for(;o<r&&(u(),!(o>=r));){var D=e.charCodeAt(o);s(1),60!==D&&w("expected <"),o>=r&&w("unexpected end of input");var L=e.charCodeAt(o);if(63!==L)if(33!==L){if(47===L){if(s(1),u(),l("plist")){d(">");continue}if(l("dict")){d(">"),A();continue}if(l("array")){d(">"),O();continue}w("unexpected closed tag")}var B=(_=void 0,k=void 0,k=!1,47===(_=h(">")).charCodeAt(_.length-1)&&(k=!0,_=_.substring(0,_.length-1)),{name:_.trim(),isClosed:k});switch(B.name){case"dict":1===f?S():2===f?(j=void 0,j={},null!==n&&(j[n]={filename:t,line:i,char:a}),p.push(j),y(1,j)):(p={},null!==n&&(p[n]={filename:t,line:i,char:a}),y(1,p)),B.isClosed&&A();continue;case"array":1===f?E():2===f?(C=void 0,C=[],p.push(C),y(2,C)):y(2,p=[]),B.isClosed&&O();continue;case"key":x=F(B),1===f?(null!==v&&w("too many <key>"),v=x):w("unexpected <key>");continue;case"string":T(F(B));continue;case"real":P(parseFloat(F(B)));continue;case"integer":R(parseInt(F(B),10));continue;case"date":N(new Date(F(B)));continue;case"data":M(F(B));continue;case"true":F(B),I(!0);continue;case"false":F(B),I(!1);continue}/^plist/.test(B.name)||w("unexpected opened tag "+B.name)}else{if(s(1),l("--")){d("--\x3e");continue}d(">")}else s(1),d("?>")}return p}t.parseWithLocation=function(e,t,r){return n(e,t,r)},t.parse=function(e){return n(e,null,null)}},593:(e,t,n)=>{"use strict";const r=n(411),o=Symbol("max"),i=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),f=Symbol("updateAgeOnGet"),p=()=>1,m=(e,t,n)=>{const r=e[h].get(t);if(r){const t=r.value;if(g(e,t)){if(y(e,r),!e[s])return}else n&&(e[f]&&(r.value.now=Date.now()),e[d].unshiftNode(r));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[c]&&n>e[c]},v=e=>{if(e[i]>e[o])for(let t=e[d].tail;e[i]>e[o]&&null!==t;){const n=t.prev;y(e,t),t=n}},y=(e,t)=>{if(t){const n=t.value;e[u]&&e[u](n.key,n.value),e[i]-=n.length,e[h].delete(n.key),e[d].removeNode(t)}};class b{constructor(e,t,n,r,o){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=o||0}}const w=(e,t,n,r)=>{let o=n.value;g(e,o)&&(y(e,n),e[s]||(o=void 0)),o&&t.call(r,o.value,o.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;const t=e.length||p;if(this[a]="function"!=typeof t?p:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,v(this)}get max(){return this[o]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,v(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=p),e!==this[a]&&(this[a]=e,this[i]=0,this[d].forEach((e=>{e.length=this[a](e.value,e.key),this[i]+=e.length}))),v(this)}get lengthCalculator(){return this[a]}get length(){return this[i]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;null!==n;){const r=n.prev;w(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[d].head;null!==n;){const r=n.next;w(this,e,n,t),n=r}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[u]&&this[d]&&this[d].length&&this[d].forEach((e=>this[u](e.key,e.value))),this[h]=new Map,this[d]=new r,this[i]=0}dump(){return this[d].map((e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,n){if((n=n||this[c])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,s=this[a](t,e);if(this[h].has(e)){if(s>this[o])return y(this,this[h].get(e)),!1;const a=this[h].get(e).value;return this[u]&&(this[l]||this[u](e,a.value)),a.now=r,a.maxAge=n,a.value=t,this[i]+=s-a.length,a.length=s,this.get(e),v(this),!0}const f=new b(e,t,s,r,n);return f.length>this[o]?(this[u]&&this[u](e,t),!1):(this[i]+=f.length,this[d].unshift(f),this[h].set(e,this[d].head),v(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!g(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[d].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],o=r.e||0;if(0===o)this.set(r.k,r.v);else{const e=o-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[h].forEach(((e,t)=>m(this,t,!1)))}}},954:(e,t,n)=>{"use strict";const r=n(439),o=n(934);class i{constructor(e){this._ruleStack=e}get ruleStack(){return this._ruleStack}clone(){return new i(this._ruleStack)}equals(e){return!!(e&&e instanceof i&&e===this&&e._ruleStack===this._ruleStack)}}t.p=function(e,t,n,a){return Promise.all(Array.from(n.keys()).map((async s=>{const c=await t.loadGrammar(n.get(s));e.languages.setTokensProvider(s,{getInitialState:()=>new i(r.INITIAL),tokenize:(e,t)=>{const n=c.tokenizeLine(e,t.ruleStack);return{endState:new i(n.ruleStack),tokens:n.tokens.map((e=>({...e,scopes:a?o.TMToMonacoToken(a,e.scopes):e.scopes[e.scopes.length-1]})))}}})})))}},934:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TMToMonacoToken=(e,t)=>{let n="";for(let e=t[0].length-1;e>=0;e-=1){const r=t[0][e];if("."===r)break;n=r+n}for(let r=t.length-1;r>=0;r-=1){const o=t[r];for(let t=o.length-1;t>=0;t-=1)if("."===o[t]){const r=o.slice(0,t);if(e._themeService.getColorTheme()._tokenTheme._match(r+"."+n)._foreground>1)return r+"."+n;if(e._themeService.getColorTheme()._tokenTheme._match(r)._foreground>1)return r}}return""}},876:(e,t,n)=>{"use strict";var r=n(155);Object.defineProperty(t,"__esModule",{value:!0}),t.CAPTURE_METADATA=void 0!==r&&!!r.env.VSCODE_TEXTMATE_DEBUG,t.IN_DEBUG_MODE=void 0!==r&&!!r.env.VSCODE_TEXTMATE_DEBUG},567:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(550),o=n(313),i=n(716),a=n(876);function s(e,t){for(var n=0,r=t.length;n<r;n++){Array.isArray(t[n].patterns)&&s(e,t[n].patterns);var o=t[n].include;if(o&&"$base"!==o&&"$self"!==o&&"#"!==o.charAt(0)){var i=o.indexOf("#");i>=0?e[o.substring(0,i)]=!0:e[o]=!0}}}function c(e,t){for(var n in t){var r=t[n];r.patterns&&Array.isArray(r.patterns)&&s(e,r.patterns),r.repository&&c(e,r.repository)}}function u(e,t){if(!e)return!1;if(e===t)return!0;var n=t.length;return e.length>n&&e.substr(0,n)===t&&"."===e[n]}function l(e,t){if(t.length<e.length)return!1;var n=0;return e.every((function(e){for(var r=n;r<t.length;r++)if(u(t[r],e))return n=r+1,!0;return!1}))}function d(e,t,n,r,a){for(var s=i.createMatchers(t,l),c=o.RuleFactory.getCompiledRuleId(n,r,a.repository),u=0,d=s;u<d.length;u++){var h=d[u];e.push({matcher:h.matcher,ruleId:c,grammar:a,priority:h.priority})}}t.createGrammar=function(e,t,n,r,o){return new p(e,t,n,r,o)},t.collectIncludedScopes=function(e,t){t.patterns&&Array.isArray(t.patterns)&&s(e,t.patterns),t.repository&&c(e,t.repository),delete e[t.scopeName]};var h=function(e,t,n,r){this.scopeName=e,this.languageId=t,this.tokenType=n,this.themeData=r};t.ScopeMetadata=h;var f=function(){function e(t,n,r){if(this._initialLanguage=t,this._themeProvider=n,this.onDidChangeTheme(),this._embeddedLanguages=Object.create(null),r)for(var o=Object.keys(r),i=0,a=o.length;i<a;i++){var s=o[i],c=r[s];"number"==typeof c&&0!==c?this._embeddedLanguages[s]=c:console.warn("Invalid embedded language found at scope "+s+": <<"+c+">>")}var u=Object.keys(this._embeddedLanguages).map((function(t){return e._escapeRegExpCharacters(t)}));0===u.length?this._embeddedLanguagesRegex=null:(u.sort(),u.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+u.join(")|(")+"))($|\\.)",""))}return e.prototype.onDidChangeTheme=function(){this._cache=Object.create(null),this._defaultMetaData=new h("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},e.prototype.getDefaultMetadata=function(){return this._defaultMetaData},e._escapeRegExpCharacters=function(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},e.prototype.getMetadataForScope=function(t){if(null===t)return e._NULL_SCOPE_METADATA;var n=this._cache[t];return n||(n=this._doGetMetadataForScope(t),this._cache[t]=n,n)},e.prototype._doGetMetadataForScope=function(e){var t=this._scopeToLanguage(e),n=this._toStandardTokenType(e),r=this._themeProvider.themeMatch(e);return new h(e,t,n,r)},e.prototype._scopeToLanguage=function(e){if(!e)return 0;if(!this._embeddedLanguagesRegex)return 0;var t=e.match(this._embeddedLanguagesRegex);return t&&(this._embeddedLanguages[t[1]]||0)||0},e.prototype._toStandardTokenType=function(t){var n=t.match(e.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 0;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},e._NULL_SCOPE_METADATA=new h("",0,0,null),e.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,e}(),p=function(){function e(e,t,n,r,o){if(this._scopeMetadataProvider=new f(t,o,n),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[],this._includedGrammars={},this._grammarRepository=o,this._grammar=m(e,null),this._tokenTypeMatchers=[],r)for(var a=0,s=Object.keys(r);a<s.length;a++)for(var c=s[a],u=0,d=i.createMatchers(c,l);u<d.length;u++){var h=d[u];this._tokenTypeMatchers.push({matcher:h.matcher,type:r[c]})}}return e.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},e.prototype.getMetadataForScope=function(e){return this._scopeMetadataProvider.getMetadataForScope(e)},e.prototype.getInjections=function(){var e=this;if(!this._injections){this._injections=[];var t=this._grammar.injections;if(t)for(var n in t)d(this._injections,n,t[n],this,this._grammar);if(this._grammarRepository){var r=this._grammarRepository.injections(this._grammar.scopeName);r&&r.forEach((function(t){var n=e.getExternalGrammar(t);if(n){var r=n.injectionSelector;r&&d(e._injections,r,n,e,n)}}))}this._injections.sort((function(e,t){return e.priority-t.priority}))}return this._injections.length,this._injections},e.prototype.registerRule=function(e){var t=++this._lastRuleId,n=e(t);return this._ruleId2desc[t]=n,n},e.prototype.getRule=function(e){return this._ruleId2desc[e]},e.prototype.getExternalGrammar=function(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){var n=this._grammarRepository.lookup(e);if(n)return this._includedGrammars[e]=m(n,t&&t.$base),this._includedGrammars[e]}},e.prototype.tokenizeLine=function(e,t){var n=this._tokenize(e,t,!1);return{tokens:n.lineTokens.getResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack}},e.prototype.tokenizeLine2=function(e,t){var n=this._tokenize(e,t,!0);return{tokens:n.lineTokens.getBinaryResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack}},e.prototype._tokenize=function(e,t,n){var r;if(-1===this._rootId&&(this._rootId=o.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),t&&t!==x.NULL)r=!1,t.reset();else{r=!0;var i=this._scopeMetadataProvider.getDefaultMetadata(),a=i.themeData[0],s=b.set(0,i.languageId,i.tokenType,a.fontStyle,a.foreground,a.background),c=this.getRule(this._rootId).getName(null,null),u=this._scopeMetadataProvider.getMetadataForScope(c),l=w.mergeMetadata(s,null,u),d=new w(null,c,l);t=new x(null,this._rootId,-1,null,d,d)}e+="\n";var h=o.createOnigString(e),f=o.getString(h).length,p=new k(n,e,this._tokenTypeMatchers);return{lineLength:f,lineTokens:p,ruleStack:y(this,h,r,0,t,p)}},e}();function m(e,t){return(e=r.clone(e)).repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}function g(e,t,n,r,i,a,s){if(0!==a.length){for(var c=Math.min(a.length,s.length),u=[],l=s[0].end,d=0;d<c;d++){var h=a[d];if(null!==h){var f=s[d];if(0!==f.length){if(f.start>l)break;for(;u.length>0&&u[u.length-1].endPos<=f.start;)i.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop();if(u.length>0?i.produceFromScopes(u[u.length-1].scopes,f.start):i.produce(r,f.start),h.retokenizeCapturedWithRuleId){var p=h.getName(o.getString(t),s),m=r.contentNameScopesList.push(e,p),g=h.getContentName(o.getString(t),s),v=m.push(e,g),b=r.push(h.retokenizeCapturedWithRuleId,f.start,null,m,v);y(e,o.createOnigString(o.getString(t).substring(0,f.end)),n&&0===f.start,f.start,b,i)}else{var w=h.getName(o.getString(t),s);if(null!==w){var x=(u.length>0?u[u.length-1].scopes:r.contentNameScopesList).push(e,w);u.push(new _(x,f.end))}}}}}for(;u.length>0;)i.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop()}}function v(e){for(var t=[],n=0,r=e.rules.length;n<r;n++)t.push("   - "+e.rules[n]+": "+e.debugRegExps[n]);return t.join("\n")}function y(e,t,n,r,i,s){var c=o.getString(t).length,u=!1,l=function(e,t,n,r,i,s){for(var c=-1,u=[],l=i;l;l=l.pop()){var d=l.getRule(e);d instanceof o.BeginWhileRule&&u.push({rule:d,stack:l})}for(var h=u.pop();h;h=u.pop()){var f=h.rule.compileWhile(e,h.stack.endRule,n,c===r),p=f.scanner.findNextMatchSync(t,r);if(a.IN_DEBUG_MODE&&(console.log("  scanning for while rule"),console.log(v(f))),!p){i=h.stack.pop();break}if(-2!==f.rules[p.index]){i=h.stack.pop();break}p.captureIndices&&p.captureIndices.length&&(s.produce(h.stack,p.captureIndices[0].start),g(e,t,n,h.stack,s,h.rule.whileCaptures,p.captureIndices),s.produce(h.stack,p.captureIndices[0].end),c=p.captureIndices[0].end,p.captureIndices[0].end>r&&(r=p.captureIndices[0].end,n=!1))}return{stack:i,linePos:r,anchorPosition:c,isFirstLine:n}}(e,t,n,r,i,s);i=l.stack,r=l.linePos,n=l.isFirstLine;for(var d=l.anchorPosition;!u;)h();function h(){a.IN_DEBUG_MODE&&(console.log(""),console.log("@@scanNext: |"+o.getString(t).replace(/\n$/,"\\n").substr(r)+"|"));var l=function(e,t,n,r,o,i){var s=function(e,t,n,r,o,i){var s=o.getRule(e).compile(e,o.endRule,n,r===i),c=s.scanner.findNextMatchSync(t,r);return a.IN_DEBUG_MODE&&(console.log("  scanning for"),console.log(v(s))),c?{captureIndices:c.captureIndices,matchedRuleId:s.rules[c.index]}:null}(e,t,n,r,o,i),c=e.getInjections();if(0===c.length)return s;var u=function(e,t,n,r,o,i,s){for(var c,u=Number.MAX_VALUE,l=null,d=0,h=i.contentNameScopesList.generateScopes(),f=0,p=e.length;f<p;f++){var m=e[f];if(m.matcher(h)){var g=t.getRule(m.ruleId).compile(t,null,r,o===s),y=g.scanner.findNextMatchSync(n,o);if(a.IN_DEBUG_MODE&&(console.log("  scanning for injections"),console.log(v(g))),y){var b=y.captureIndices[0].start;if(!(b>=u)&&(u=b,l=y.captureIndices,c=g.rules[y.index],d=m.priority,u===o))break}}}return l?{priorityMatch:-1===d,captureIndices:l,matchedRuleId:c}:null}(c,e,t,n,r,o,i);if(!u)return s;if(!s)return u;var l=s.captureIndices[0].start,d=u.captureIndices[0].start;return d<l||u.priorityMatch&&d===l?u:s}(e,t,n,r,i,d);if(!l)return a.IN_DEBUG_MODE&&console.log("  no more matches."),s.produce(i,c),void(u=!0);var h=l.captureIndices,f=l.matchedRuleId,p=!!(h&&h.length>0)&&h[0].end>r;if(-1===f){var m=i.getRule(e);a.IN_DEBUG_MODE&&console.log("  popping "+m.debugName+" - "+m.debugEndRegExp),s.produce(i,h[0].start),i=i.setContentNameScopesList(i.nameScopesList),g(e,t,n,i,s,m.endCaptures,h),s.produce(i,h[0].end);var y=i;if(i=i.pop(),!p&&y.getEnterPos()===r)return console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),i=y,s.produce(i,c),void(u=!0)}else{var b=e.getRule(f);s.produce(i,h[0].start);var w=i,x=b.getName(o.getString(t),h),_=i.contentNameScopesList.push(e,x);if(i=i.push(f,r,null,_,_),b instanceof o.BeginEndRule){var k=b;a.IN_DEBUG_MODE&&console.log("  pushing "+k.debugName+" - "+k.debugBeginRegExp),g(e,t,n,i,s,k.beginCaptures,h),s.produce(i,h[0].end),d=h[0].end;var C=k.getContentName(o.getString(t),h),j=_.push(e,C);if(i=i.setContentNameScopesList(j),k.endHasBackReferences&&(i=i.setEndRule(k.getEndWithResolvedBackReferences(o.getString(t),h))),!p&&w.hasSameRuleAs(i))return console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),i=i.pop(),s.produce(i,c),void(u=!0)}else if(b instanceof o.BeginWhileRule){if(k=b,a.IN_DEBUG_MODE&&console.log("  pushing "+k.debugName),g(e,t,n,i,s,k.beginCaptures,h),s.produce(i,h[0].end),d=h[0].end,C=k.getContentName(o.getString(t),h),j=_.push(e,C),i=i.setContentNameScopesList(j),k.whileHasBackReferences&&(i=i.setEndRule(k.getWhileWithResolvedBackReferences(o.getString(t),h))),!p&&w.hasSameRuleAs(i))return console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),i=i.pop(),s.produce(i,c),void(u=!0)}else{var S=b;if(a.IN_DEBUG_MODE&&console.log("  matched "+S.debugName+" - "+S.debugMatchRegExp),g(e,t,n,i,s,S.captures,h),s.produce(i,h[0].end),i=i.pop(),!p)return console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),i=i.safePop(),s.produce(i,c),void(u=!0)}}h[0].end>r&&(r=h[0].end,n=!1)}return i}t.Grammar=p;var b=function(){function e(){}return e.toBinaryStr=function(e){for(var t=e.toString(2);t.length<32;)t="0"+t;return t},e.printMetadata=function(t){var n=e.getLanguageId(t),r=e.getTokenType(t),o=e.getFontStyle(t),i=e.getForeground(t),a=e.getBackground(t);console.log({languageId:n,tokenType:r,fontStyle:o,foreground:i,background:a})},e.getLanguageId=function(e){return(255&e)>>>0},e.getTokenType=function(e){return(1792&e)>>>8},e.getFontStyle=function(e){return(14336&e)>>>11},e.getForeground=function(e){return(8372224&e)>>>14},e.getBackground=function(e){return(4286578688&e)>>>23},e.set=function(t,n,r,o,i,a){var s=e.getLanguageId(t),c=e.getTokenType(t),u=e.getFontStyle(t),l=e.getForeground(t),d=e.getBackground(t);return 0!==n&&(s=n),0!==r&&(c=8===r?0:r),-1!==o&&(u=o),0!==i&&(l=i),0!==a&&(d=a),(s<<0|c<<8|u<<11|l<<14|d<<23)>>>0},e}();t.StackElementMetadata=b;var w=function(){function e(e,t,n){this.parent=e,this.scope=t,this.metadata=n}return e._equals=function(e,t){for(;;){if(e===t)return!0;if(e.scope!==t.scope||e.metadata!==t.metadata)return!1;if(e=e.parent,t=t.parent,!e&&!t)return!0;if(!e||!t)return!1}},e.prototype.equals=function(t){return e._equals(this,t)},e._matchesScope=function(e,t,n){return t===e||e.substring(0,n.length)===n},e._matches=function(e,t){if(null===t)return!0;for(var n=t.length,r=0,o=t[r],i=o+".";e;){if(this._matchesScope(e.scope,o,i)){if(++r===n)return!0;i=(o=t[r])+"."}e=e.parent}return!1},e.mergeMetadata=function(e,t,n){if(null===n)return e;var r=-1,o=0,i=0;if(null!==n.themeData)for(var a=0,s=n.themeData.length;a<s;a++){var c=n.themeData[a];if(this._matches(t,c.parentScopes)){r=c.fontStyle,o=c.foreground,i=c.background;break}}return b.set(e,n.languageId,n.tokenType,r,o,i)},e._push=function(t,n,r){for(var o=0,i=r.length;o<i;o++){var a=r[o],s=n.getMetadataForScope(a),c=e.mergeMetadata(t.metadata,t,s);t=new e(t,a,c)}return t},e.prototype.push=function(t,n){return null===n?this:n.indexOf(" ")>=0?e._push(this,t,n.split(/ /g)):e._push(this,t,[n])},e._generateScopes=function(e){for(var t=[],n=0;e;)t[n++]=e.scope,e=e.parent;return t.reverse(),t},e.prototype.generateScopes=function(){return e._generateScopes(this)},e}();t.ScopeListElement=w;var x=function(){function e(e,t,n,r,o,i){this.parent=e,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=t,this._enterPos=n,this.endRule=r,this.nameScopesList=o,this.contentNameScopesList=i}return e._structuralEquals=function(e,t){for(;;){if(e===t)return!0;if(e.depth!==t.depth||e.ruleId!==t.ruleId||e.endRule!==t.endRule)return!1;if(e=e.parent,t=t.parent,!e&&!t)return!0;if(!e||!t)return!1}},e._equals=function(e,t){return e===t||!!this._structuralEquals(e,t)&&e.contentNameScopesList.equals(t.contentNameScopesList)},e.prototype.clone=function(){return this},e.prototype.equals=function(t){return null!==t&&e._equals(this,t)},e._reset=function(e){for(;e;)e._enterPos=-1,e=e.parent},e.prototype.reset=function(){e._reset(this)},e.prototype.pop=function(){return this.parent},e.prototype.safePop=function(){return this.parent?this.parent:this},e.prototype.push=function(t,n,r,o,i){return new e(this,t,n,r,o,i)},e.prototype.getEnterPos=function(){return this._enterPos},e.prototype.getRule=function(e){return e.getRule(this.ruleId)},e.prototype._writeString=function(e,t){return this.parent&&(t=this.parent._writeString(e,t)),e[t++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",t},e.prototype.toString=function(){var e=[];return this._writeString(e,0),"["+e.join(",")+"]"},e.prototype.setContentNameScopesList=function(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this.endRule,this.nameScopesList,e)},e.prototype.setEndRule=function(t){return this.endRule===t?this:new e(this.parent,this.ruleId,this._enterPos,t,this.nameScopesList,this.contentNameScopesList)},e.prototype.hasSameRuleAs=function(e){return this.ruleId===e.ruleId},e.NULL=new e(null,0,0,null,null,null),e}();t.StackElement=x;var _=function(e,t){this.scopes=e,this.endPos=t};t.LocalStackElement=_;var k=function(){function e(e,t,n){this._emitBinaryTokens=e,this._tokenTypeOverrides=n,a.IN_DEBUG_MODE&&(this._lineText=t),this._emitBinaryTokens?this._binaryTokens=[]:this._tokens=[],this._lastTokenEndIndex=0}return e.prototype.produce=function(e,t){this.produceFromScopes(e.contentNameScopesList,t)},e.prototype.produceFromScopes=function(e,t){if(!(this._lastTokenEndIndex>=t)){if(this._emitBinaryTokens){for(var n=e.metadata,r=0,o=this._tokenTypeOverrides;r<o.length;r++){var i=o[r];i.matcher(e.generateScopes())&&(n=b.set(n,0,C(i.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===n||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(n)),void(this._lastTokenEndIndex=t)}var s=e.generateScopes();if(a.IN_DEBUG_MODE){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,t).replace(/\n$/,"\\n")+"|");for(var c=0;c<s.length;c++)console.log("      * "+s[c])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:s}),this._lastTokenEndIndex=t}},e.prototype.getResult=function(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),0===this._tokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},e.prototype.getBinaryResult=function(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),0===this._binaryTokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);for(var n=new Uint32Array(this._binaryTokens.length),r=0,o=this._binaryTokens.length;r<o;r++)n[r]=this._binaryTokens[r];return n},e}();function C(e){switch(e){case 4:return 4;case 2:return 2;case 1:return 1;default:return 8}}},714:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209),o=n(876),i=n(182);t.parseJSONGrammar=function(e,t){return o.CAPTURE_METADATA?i.parse(e,t,!0):JSON.parse(e)},t.parsePLISTGrammar=function(e,t){return o.CAPTURE_METADATA?r.parseWithLocation(e,t,"$vscodeTextmateLocation"):r.parse(e)}},182:(e,t)=>{"use strict";function n(e,t){throw new Error("Near offset "+e.pos+": "+t+" ~~~"+e.source.substr(e.pos,50)+"~~~")}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e,t,a){var s=new r(e),c=new o,u=0,l=null,d=[],h=[];function f(){d.push(u),h.push(l)}function p(){u=d.pop(),l=h.pop()}function m(e){n(s,e)}for(;i(s,c);){if(0===u){if(null!==l&&m("too many constructs in root"),3===c.type){l={},a&&(l.$vscodeTextmateLocation=c.toLocation(t)),f(),u=1;continue}if(2===c.type){l=[],f(),u=4;continue}m("unexpected token in root")}if(2===u){if(5===c.type){p();continue}if(7===c.type){u=3;continue}m("expected , or }")}if(1===u||3===u){if(1===u&&5===c.type){p();continue}if(1===c.type){var g=c.value;if(i(s,c)&&6===c.type||m("expected colon"),i(s,c)||m("expected value"),u=2,1===c.type){l[g]=c.value;continue}if(8===c.type){l[g]=null;continue}if(9===c.type){l[g]=!0;continue}if(10===c.type){l[g]=!1;continue}if(11===c.type){l[g]=parseFloat(c.value);continue}if(2===c.type){var v=[];l[g]=v,f(),u=4,l=v;continue}if(3===c.type){var y={};a&&(y.$vscodeTextmateLocation=c.toLocation(t)),l[g]=y,f(),u=1,l=y;continue}}m("unexpected token in dict")}if(5===u){if(4===c.type){p();continue}if(7===c.type){u=6;continue}m("expected , or ]")}if(4===u||6===u){if(4===u&&4===c.type){p();continue}if(u=5,1===c.type){l.push(c.value);continue}if(8===c.type){l.push(null);continue}if(9===c.type){l.push(!0);continue}if(10===c.type){l.push(!1);continue}if(11===c.type){l.push(parseFloat(c.value));continue}if(2===c.type){v=[],l.push(v),f(),u=4,l=v;continue}if(3===c.type){y={},a&&(y.$vscodeTextmateLocation=c.toLocation(t)),l.push(y),f(),u=1,l=y;continue}m("unexpected token in array")}m("unknown state")}return 0!==h.length&&m("unclosed constructs"),l};var r=function(e){this.source=e,this.pos=0,this.len=e.length,this.line=1,this.char=0},o=function(){function e(){this.value=null,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return e.prototype.toLocation=function(e){return{filename:e,line:this.line,char:this.char}},e}();function i(e,t){t.value=null,t.type=0,t.offset=-1,t.len=-1,t.line=-1,t.char=-1;for(var r,o=e.source,i=e.pos,a=e.len,s=e.line,c=e.char;;){if(i>=a)return!1;if(32!==(r=o.charCodeAt(i))&&9!==r&&13!==r){if(10!==r)break;i++,s++,c=0}else i++,c++}if(t.offset=i,t.line=s,t.char=c,34===r){for(t.type=1,i++,c++;;){if(i>=a)return!1;if(r=o.charCodeAt(i),i++,c++,92!==r){if(34===r)break}else i++,c++}t.value=o.substring(t.offset+1,i-1).replace(/\\u([0-9A-Fa-f]{4})/g,(function(e,t){return String.fromCodePoint(parseInt(t,16))})).replace(/\\(.)/g,(function(t,r){switch(r){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";default:n(e,"invalid escape sequence")}}))}else if(91===r)t.type=2,i++,c++;else if(123===r)t.type=3,i++,c++;else if(93===r)t.type=4,i++,c++;else if(125===r)t.type=5,i++,c++;else if(58===r)t.type=6,i++,c++;else if(44===r)t.type=7,i++,c++;else if(110===r){if(t.type=8,i++,c++,117!==(r=o.charCodeAt(i)))return!1;if(i++,c++,108!==(r=o.charCodeAt(i)))return!1;if(i++,c++,108!==(r=o.charCodeAt(i)))return!1;i++,c++}else if(116===r){if(t.type=9,i++,c++,114!==(r=o.charCodeAt(i)))return!1;if(i++,c++,117!==(r=o.charCodeAt(i)))return!1;if(i++,c++,101!==(r=o.charCodeAt(i)))return!1;i++,c++}else if(102===r){if(t.type=10,i++,c++,97!==(r=o.charCodeAt(i)))return!1;if(i++,c++,108!==(r=o.charCodeAt(i)))return!1;if(i++,c++,115!==(r=o.charCodeAt(i)))return!1;if(i++,c++,101!==(r=o.charCodeAt(i)))return!1;i++,c++}else for(t.type=11;;){if(i>=a)return!1;if(!(46===(r=o.charCodeAt(i))||r>=48&&r<=57||101===r||69===r||45===r||43===r))break;i++,c++}return t.len=i-t.offset,null===t.value&&(t.value=o.substr(t.offset,t.len)),e.pos=i,e.line=s,e.char=c,!0}},439:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(783),a=n(714),s=n(846),c=n(567),u={getGrammarDefinition:function(e){return null},getInjections:function(e){return null}},l=function(){function e(e){void 0===e&&(e=u),this._locator=e,this._syncRegistry=new i.SyncRegistry(s.Theme.createFromRawTheme(e.theme)),this.installationQueue=new Map}return e.prototype.setTheme=function(e){this._syncRegistry.setTheme(s.Theme.createFromRawTheme(e))},e.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},e.prototype.loadGrammarWithEmbeddedLanguages=function(e,t,n){return this.loadGrammarWithConfiguration(e,t,{embeddedLanguages:n})},e.prototype.loadGrammarWithConfiguration=function(e,t,n){return r(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,this._loadGrammar(e)];case 1:return r.sent(),[2,this.grammarForScopeName(e,t,n.embeddedLanguages,n.tokenTypes)]}}))}))},e.prototype.loadGrammar=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2,this._loadGrammar(e)]}))}))},e.prototype._loadGrammar=function(e,t){return void 0===t&&(t=null),r(this,void 0,void 0,(function(){var n,i=this;return o(this,(function(s){switch(s.label){case 0:return this._syncRegistry.lookup(e)?[2,this.grammarForScopeName(e)]:this.installationQueue.has(e)?[2,this.installationQueue.get(e)]:(n=new Promise((function(n,s){return r(i,void 0,void 0,(function(){var i,s,c,u,l=this;return o(this,(function(d){switch(d.label){case 0:return[4,this._locator.getGrammarDefinition(e,t)];case 1:if(!(i=d.sent()))throw new Error("A tmGrammar load was requested but registry host failed to provide grammar definition");if("json"!==i.format&&"plist"!==i.format||"json"===i.format&&"object"!=typeof i.content&&"string"!=typeof i.content||"plist"===i.format&&"string"!=typeof i.content)throw new TypeError('Grammar definition must be an object, either `{ content: string | object, format: "json" }` OR `{ content: string, format: "plist" }`)');return s="json"===i.format?"string"==typeof i.content?a.parseJSONGrammar(i.content,"c://fakepath/grammar.json"):i.content:a.parsePLISTGrammar(i.content,"c://fakepath/grammar.plist"),c="function"==typeof this._locator.getInjections&&this._locator.getInjections(e),s.scopeName=e,u=this._syncRegistry.addGrammar(s,c),[4,Promise.all(u.map((function(t){return r(l,void 0,void 0,(function(){return o(this,(function(n){try{return[2,this._loadGrammar(t,e)]}catch(n){throw new Error("While trying to load tmGrammar with scopeId: '"+e+"', it's dependency (scopeId: "+t+") loading errored: "+n.message)}return[2]}))}))})))];case 2:return d.sent(),n(this.grammarForScopeName(e)),[2]}}))}))})),this.installationQueue.set(e,n),[4,n]);case 1:return s.sent(),this.installationQueue.delete(e),[2,n]}}))}))},e.prototype.grammarForScopeName=function(e,t,n,r){return void 0===t&&(t=0),void 0===n&&(n=null),void 0===r&&(r=null),this._syncRegistry.grammarForScopeName(e,t,n,r)},e}();t.Registry=l,t.INITIAL=c.StackElement.NULL},716:(e,t)=>{"use strict";function n(e){return e&&e.match(/[\w\.:]+/)}Object.defineProperty(t,"__esModule",{value:!0}),t.createMatchers=function(e,t){for(var r,o,i,a=[],s=(i=(o=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(r=e),{next:function(){if(!i)return null;var e=i[0];return i=o.exec(r),e}}),c=s.next();null!==c;){var u=0;if(2===c.length&&":"===c.charAt(1)){switch(c.charAt(0)){case"R":u=1;break;case"L":u=-1;break;default:console.log("Unknown priority "+c+" in scope selector")}c=s.next()}var l=h();if(l&&a.push({matcher:l,priority:u}),","!==c)break;c=s.next()}return a;function d(){if("-"===c){c=s.next();var e=d();return function(t){return e&&!e(t)}}if("("===c){c=s.next();var r=function(){for(var e=[],t=h();t&&(e.push(t),"|"===c||","===c);){do{c=s.next()}while("|"===c||","===c);t=h()}return function(t){return e.some((function(e){return e(t)}))}}();return")"===c&&(c=s.next()),r}if(n(c)){var o=[];do{o.push(c),c=s.next()}while(n(c));return function(e){return t(o,e)}}return null}function h(){for(var e=[],t=d();t;)e.push(t),t=d();return function(t){return e.every((function(e){return e(t)}))}}}},783:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(567),o=function(){function e(e){this._theme=e,this._grammars={},this._rawGrammars={},this._injectionGrammars={}}return e.prototype.setTheme=function(e){var t=this;this._theme=e,Object.keys(this._grammars).forEach((function(e){t._grammars[e].onDidChangeTheme()}))},e.prototype.getColorMap=function(){return this._theme.getColorMap()},e.prototype.addGrammar=function(e,t){this._rawGrammars[e.scopeName]=e;var n={};return r.collectIncludedScopes(n,e),t&&(this._injectionGrammars[e.scopeName]=t,t.forEach((function(e){n[e]=!0}))),Object.keys(n)},e.prototype.lookup=function(e){return this._rawGrammars[e]},e.prototype.injections=function(e){return this._injectionGrammars[e]},e.prototype.getDefaults=function(){return this._theme.getDefaults()},e.prototype.themeMatch=function(e){return this._theme.match(e)},e.prototype.grammarForScopeName=function(e,t,n,o){if(!this._grammars[e]){var i=this._rawGrammars[e];if(!i)return null;this._grammars[e]=r.createGrammar(i,t,n,o,this)}return this._grammars[e]},e}();t.SyncRegistry=o},313:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(520),a=n(550),s=n(105),c=/\\(\d+)/,u=/\\(\d+)/g,l=function(){function e(e,t,n,r){this.$location=e,this.id=t,this._name=n||null,this._nameIsCapturing=a.RegexSource.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=a.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(e.prototype,"debugName",{get:function(){return this.constructor.name+"#"+this.id+" @ "+i.basename(this.$location.filename)+":"+this.$location.line},enumerable:!0,configurable:!0}),e.prototype.getName=function(e,t){return this._nameIsCapturing?a.RegexSource.replaceCaptures(this._name,e,t):this._name},e.prototype.getContentName=function(e,t){return this._contentNameIsCapturing?a.RegexSource.replaceCaptures(this._contentName,e,t):this._contentName},e.prototype.collectPatternsRecursive=function(e,t,n){throw new Error("Implement me!")},e.prototype.compile=function(e,t,n,r){throw new Error("Implement me!")},e}();t.Rule=l;var d=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.retokenizeCapturedWithRuleId=i,a}return o(t,e),t}(l);t.CaptureRule=d;var h=function(){function e(e,t,n){void 0===n&&(n=!0),n?this._handleAnchors(e):(this.source=e,this.hasAnchor=!1),this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()),this.ruleId=t,this.hasBackReferences=c.test(this.source)}return e.prototype.clone=function(){return new e(this.source,this.ruleId,!0)},e.prototype.setSource=function(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},e.prototype._handleAnchors=function(e){if(e){var t,n=void 0,r=void 0,o=0,i=[],a=!1;for(n=0,t=e.length;n<t;n++)"\\"===e.charAt(n)&&n+1<t&&("z"===(r=e.charAt(n+1))?(i.push(e.substring(o,n)),i.push("$(?!\\n)(?<!\\n)"),o=n+2):"A"!==r&&"G"!==r||(a=!0),n++);this.hasAnchor=a,0===o?this.source=e:(i.push(e.substring(o,t)),this.source=i.join(""))}else this.hasAnchor=!1,this.source=e},e.prototype.resolveBackReferences=function(e,t){var n=t.map((function(t){return e.substring(t.start,t.end)}));return u.lastIndex=0,this.source.replace(u,(function(e,t){return(n[parseInt(t,10)]||"").replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}))},e.prototype._buildAnchorCache=function(){var e,t,n,r,o=[],i=[],a=[],s=[];for(e=0,t=this.source.length;e<t;e++)n=this.source.charAt(e),o[e]=n,i[e]=n,a[e]=n,s[e]=n,"\\"===n&&e+1<t&&("A"===(r=this.source.charAt(e+1))?(o[e+1]="￿",i[e+1]="￿",a[e+1]="A",s[e+1]="A"):"G"===r?(o[e+1]="￿",i[e+1]="G",a[e+1]="￿",s[e+1]="G"):(o[e+1]=r,i[e+1]=r,a[e+1]=r,s[e+1]=r),e++);return{A0_G0:o.join(""),A0_G1:i.join(""),A1_G0:a.join(""),A1_G1:s.join("")}},e.prototype.resolveAnchors=function(e,t){return this.hasAnchor?e?t?this._anchorCache.A1_G1:this._anchorCache.A1_G0:t?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},e}();function f(e){return new s.OnigScanner(e)}t.RegExpSource=h,t.createOnigString=function(e){var t=new s.OnigString(e);return t.$str=e,t},t.getString=function(e){return e.$str};var p=function(){function e(){this._items=[],this._hasAnchors=!1,this._cached=null,this._cachedSources=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return e.prototype.push=function(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},e.prototype.unshift=function(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},e.prototype.length=function(){return this._items.length},e.prototype.setSource=function(e,t){this._items[e].source!==t&&(this._cached=null,this._anchorCache.A0_G0=null,this._anchorCache.A0_G1=null,this._anchorCache.A1_G0=null,this._anchorCache.A1_G1=null,this._items[e].setSource(t))},e.prototype.compile=function(e,t,n){if(this._hasAnchors)return this._anchorCache={A0_G0:this._anchorCache.A0_G0||(!1===t&&!1===n?this._resolveAnchors(t,n):null),A0_G1:this._anchorCache.A0_G1||(!1===t&&!0===n?this._resolveAnchors(t,n):null),A1_G0:this._anchorCache.A1_G0||(!0===t&&!1===n?this._resolveAnchors(t,n):null),A1_G1:this._anchorCache.A1_G1||(!0===t&&!0===n?this._resolveAnchors(t,n):null)},t?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0;if(!this._cached){var r=this._items.map((function(e){return e.source}));this._cached={scanner:f(r),rules:this._items.map((function(e){return e.ruleId})),debugRegExps:r}}return this._cached},e.prototype._resolveAnchors=function(e,t){var n=this._items.map((function(n){return n.resolveAnchors(e,t)}));return{scanner:f(n),rules:this._items.map((function(e){return e.ruleId})),debugRegExps:n}},e}();t.RegExpSourceList=p;var m=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,null)||this;return a._match=new h(o,a.id),a.captures=i,a._cachedCompiledPatterns=null,a}return o(t,e),Object.defineProperty(t.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),t.prototype.collectPatternsRecursive=function(e,t,n){t.push(this._match)},t.prototype.compile=function(e,t,n,r){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new p,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(e,n,r)},t}(l);t.MatchRule=m;var g=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.patterns=i.patterns,a.hasMissingPatterns=i.hasMissingPatterns,a._cachedCompiledPatterns=null,a}return o(t,e),t.prototype.collectPatternsRecursive=function(e,t,n){var r,o;for(r=0,o=this.patterns.length;r<o;r++)e.getRule(this.patterns[r]).collectPatternsRecursive(e,t,!1)},t.prototype.compile=function(e,t,n,r){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new p,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(e,n,r)},t}(l);t.IncludeOnlyRule=g;var v=function(e){function t(t,n,r,o,i,a,s,c,u,l){var d=e.call(this,t,n,r,o)||this;return d._begin=new h(i,d.id),d.beginCaptures=a,d._end=new h(s,-1),d.endHasBackReferences=d._end.hasBackReferences,d.endCaptures=c,d.applyEndPatternLast=u||!1,d.patterns=l.patterns,d.hasMissingPatterns=l.hasMissingPatterns,d._cachedCompiledPatterns=null,d}return o(t,e),Object.defineProperty(t.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),t.prototype.getEndWithResolvedBackReferences=function(e,t){return this._end.resolveBackReferences(e,t)},t.prototype.collectPatternsRecursive=function(e,t,n){if(n){var r,o=void 0;for(o=0,r=this.patterns.length;o<r;o++)e.getRule(this.patterns[o]).collectPatternsRecursive(e,t,!1)}else t.push(this._begin)},t.prototype.compile=function(e,t,n,r){var o=this._precompile(e);return this._end.hasBackReferences&&(this.applyEndPatternLast?o.setSource(o.length()-1,t):o.setSource(0,t)),this._cachedCompiledPatterns.compile(e,n,r)},t.prototype._precompile=function(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new p,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._cachedCompiledPatterns},t}(l);t.BeginEndRule=v;var y=function(e){function t(t,n,r,o,i,a,s,c,u){var l=e.call(this,t,n,r,o)||this;return l._begin=new h(i,l.id),l.beginCaptures=a,l.whileCaptures=c,l._while=new h(s,-2),l.whileHasBackReferences=l._while.hasBackReferences,l.patterns=u.patterns,l.hasMissingPatterns=u.hasMissingPatterns,l._cachedCompiledPatterns=null,l._cachedCompiledWhilePatterns=null,l}return o(t,e),t.prototype.getWhileWithResolvedBackReferences=function(e,t){return this._while.resolveBackReferences(e,t)},t.prototype.collectPatternsRecursive=function(e,t,n){if(n){var r,o=void 0;for(o=0,r=this.patterns.length;o<r;o++)e.getRule(this.patterns[o]).collectPatternsRecursive(e,t,!1)}else t.push(this._begin)},t.prototype.compile=function(e,t,n,r){return this._precompile(e),this._cachedCompiledPatterns.compile(e,n,r)},t.prototype._precompile=function(e){this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new p,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0))},t.prototype.compileWhile=function(e,t,n,r){return this._precompileWhile(e),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,t),this._cachedCompiledWhilePatterns.compile(e,n,r)},t.prototype._precompileWhile=function(e){this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new p,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while))},t}(l);t.BeginWhileRule=y;var b=function(){function e(){}return e.createCaptureRule=function(e,t,n,r,o){return e.registerRule((function(e){return new d(t,e,n,r,o)}))},e.getCompiledRuleId=function(t,n,r){return t.id||n.registerRule((function(o){return t.id=o,t.match?new m(t.$vscodeTextmateLocation,t.id,t.name,t.match,e._compileCaptures(t.captures,n,r)):t.begin?t.while?new y(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,n,r),t.while,e._compileCaptures(t.whileCaptures||t.captures,n,r),e._compilePatterns(t.patterns,n,r)):new v(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,n,r),t.end,e._compileCaptures(t.endCaptures||t.captures,n,r),t.applyEndPatternLast,e._compilePatterns(t.patterns,n,r)):(t.repository&&(r=a.mergeObjects({},r,t.repository)),new g(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,e._compilePatterns(t.patterns,n,r)))})),t.id},e._compileCaptures=function(t,n,r){var o,i,a,s,c=[];if(t){for(s in i=0,t)"$vscodeTextmateLocation"!==s&&(o=parseInt(s,10))>i&&(i=o);for(a=0;a<=i;a++)c[a]=null;for(s in t)if("$vscodeTextmateLocation"!==s){o=parseInt(s,10);var u=0;t[s].patterns&&(u=e.getCompiledRuleId(t[s],n,r)),c[o]=e.createCaptureRule(n,t[s].$vscodeTextmateLocation,t[s].name,t[s].contentName,u)}}return c},e._compilePatterns=function(t,n,r){var o,i,a,s,c,u,l,d=[];if(t)for(i=0,a=t.length;i<a;i++){if(s=-1,(o=t[i]).include)if("#"===o.include.charAt(0)){var h=r[o.include.substr(1)];h&&(s=e.getCompiledRuleId(h,n,r))}else if("$base"===o.include||"$self"===o.include)s=e.getCompiledRuleId(r[o.include],n,r);else{var f=null,p=null,m=o.include.indexOf("#");if(m>=0?(f=o.include.substring(0,m),p=o.include.substring(m+1)):f=o.include,c=n.getExternalGrammar(f,r))if(p){var b=c.repository[p];b&&(s=e.getCompiledRuleId(b,n,c.repository))}else s=e.getCompiledRuleId(c.repository.$self,n,c.repository)}else s=e.getCompiledRuleId(o,n,r);if(-1!==s){if(l=!1,((u=n.getRule(s))instanceof g||u instanceof v||u instanceof y)&&u.hasMissingPatterns&&0===u.patterns.length&&(l=!0),l)continue;d.push(s)}}return{patterns:d,hasMissingPatterns:(t?t.length:0)!==d.length}},e}();t.RuleFactory=b},846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n,r,o,i){this.scope=e,this.parentScopes=t,this.index=n,this.fontStyle=r,this.foreground=o,this.background=i};function r(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))}function o(e){if(!e)return[];if(!e.settings||!Array.isArray(e.settings))return[];for(var t=e.settings,o=[],i=0,a=0,s=t.length;a<s;a++){var c=t[a];if(c.settings){var u=void 0;u="string"==typeof c.scope?c.scope.replace(/^[,]+/,"").replace(/[,]+$/,"").split(","):Array.isArray(c.scope)?c.scope:[""];var l=-1;if("string"==typeof c.settings.fontStyle){l=0;for(var d=0,h=(m=c.settings.fontStyle.split(" ")).length;d<h;d++)switch(m[d]){case"italic":l|=1;break;case"bold":l|=2;break;case"underline":l|=4}}var f=null;"string"==typeof c.settings.foreground&&r(c.settings.foreground)&&(f=c.settings.foreground);var p=null;for("string"==typeof c.settings.background&&r(c.settings.background)&&(p=c.settings.background),d=0,h=u.length;d<h;d++){var m,g=(m=u[d].trim().split(" "))[m.length-1],v=null;m.length>1&&(v=m.slice(0,m.length-1)).reverse(),o[i++]=new n(g,v,a,l,f,p)}}}return o}function i(e){e.sort((function(e,t){var n=c(e.scope,t.scope);return 0!==n||0!==(n=u(e.parentScopes,t.parentScopes))?n:e.index-t.index}));for(var t=0,n="#000000",r="#ffffff";e.length>=1&&""===e[0].scope;){var o=e.shift();-1!==o.fontStyle&&(t=o.fontStyle),null!==o.foreground&&(n=o.foreground),null!==o.background&&(r=o.background)}for(var i=new a,h=new l(0,null,t,i.getId(n),i.getId(r)),f=new d(new l(0,null,-1,0,0),[]),p=0,m=e.length;p<m;p++){var g=e[p];f.insert(0,g.scope,g.parentScopes,g.fontStyle,i.getId(g.foreground),i.getId(g.background))}return new s(i,h,f)}t.ParsedThemeRule=n,t.parseTheme=o;var a=function(){function e(){this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null)}return e.prototype.getId=function(e){if(null===e)return 0;e=e.toUpperCase();var t=this._color2id[e];return t||(t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t)},e.prototype.getColorMap=function(){return this._id2color.slice(0)},e}();t.ColorMap=a;var s=function(){function e(e,t,n){this._colorMap=e,this._root=n,this._defaults=t,this._cache={}}return e.createFromRawTheme=function(e){return this.createFromParsedTheme(o(e))},e.createFromParsedTheme=function(e){return i(e)},e.prototype.getColorMap=function(){return this._colorMap.getColorMap()},e.prototype.getDefaults=function(){return this._defaults},e.prototype.match=function(e){return this._cache.hasOwnProperty(e)||(this._cache[e]=this._root.match(e)),this._cache[e]},e}();function c(e,t){return e<t?-1:e>t?1:0}function u(e,t){if(null===e&&null===t)return 0;if(!e)return-1;if(!t)return 1;var n=e.length,r=t.length;if(n===r){for(var o=0;o<n;o++){var i=c(e[o],t[o]);if(0!==i)return i}return 0}return n-r}t.Theme=s,t.strcmp=c,t.strArrCmp=u;var l=function(){function e(e,t,n,r,o){this.scopeDepth=e,this.parentScopes=t,this.fontStyle=n,this.foreground=r,this.background=o}return e.prototype.clone=function(){return new e(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},e.cloneArr=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n].clone();return t},e.prototype.acceptOverwrite=function(e,t,n,r){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,-1!==t&&(this.fontStyle=t),0!==n&&(this.foreground=n),0!==r&&(this.background=r)},e}();t.ThemeTrieElementRule=l;var d=function(){function e(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={}),this._mainRule=e,this._rulesWithParentScopes=t,this._children=n}return e._sortBySpecificity=function(e){return 1===e.length||e.sort(this._cmpBySpecificity),e},e._cmpBySpecificity=function(e,t){if(e.scopeDepth===t.scopeDepth){var n=e.parentScopes,r=t.parentScopes,o=null===n?0:n.length,i=null===r?0:r.length;if(o===i)for(var a=0;a<o;a++){var s=n[a].length,c=r[a].length;if(s!==c)return c-s}return i-o}return t.scopeDepth-e.scopeDepth},e.prototype.match=function(t){if(""===t)return e._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var n,r,o=t.indexOf(".");return-1===o?(n=t,r=""):(n=t.substring(0,o),r=t.substring(o+1)),this._children.hasOwnProperty(n)?this._children[n].match(r):e._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},e.prototype.insert=function(t,n,r,o,i,a){if(""!==n){var s,c,u,d=n.indexOf(".");-1===d?(s=n,c=""):(s=n.substring(0,d),c=n.substring(d+1)),this._children.hasOwnProperty(s)?u=this._children[s]:(u=new e(this._mainRule.clone(),l.cloneArr(this._rulesWithParentScopes)),this._children[s]=u),u.insert(t+1,c,r,o,i,a)}else this._doInsertHere(t,r,o,i,a)},e.prototype._doInsertHere=function(e,t,n,r,o){if(null!==t){for(var i=0,a=this._rulesWithParentScopes.length;i<a;i++){var s=this._rulesWithParentScopes[i];if(0===u(s.parentScopes,t))return void s.acceptOverwrite(e,n,r,o)}-1===n&&(n=this._mainRule.fontStyle),0===r&&(r=this._mainRule.foreground),0===o&&(o=this._mainRule.background),this._rulesWithParentScopes.push(new l(e,t,n,r,o))}else this._mainRule.acceptOverwrite(e,n,r,o)},e}();t.ThemeTrieElement=d},550:(e,t)=>{"use strict";function n(e){return Array.isArray(e)?function(e){for(var t=[],r=0,o=e.length;r<o;r++)t[r]=n(e[r]);return t}(e):"object"==typeof e?function(e){var t={};for(var r in e)t[r]=n(e[r]);return t}(e):e}Object.defineProperty(t,"__esModule",{value:!0}),t.clone=function(e){return n(e)},t.mergeObjects=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){for(var n in t)e[n]=t[n]})),e};var r=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,o=function(){function e(){}return e.hasCaptures=function(e){return r.test(e)},e.replaceCaptures=function(e,t,n){return e.replace(r,(function(e,r,o,i){var a=n[parseInt(r||o,10)];if(!a)return e;for(var s=t.substring(a.start,a.end);"."===s[0];)s=s.substring(1);switch(i){case"downcase":return s.toLowerCase();case"upcase":return s.toUpperCase();default:return s}}))},e}();t.RegexSource=o},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var a,s,c=o(e),u=1;u<arguments.length;u++){for(var l in a=Object(arguments[u]))n.call(a,l)&&(c[l]=a[l]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(c[s[d]]=a[s[d]])}}return c}},197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(710);t.default=class{constructor(e){this.source=e;try{this.scanner=new r.default([this.source])}catch(e){}}searchSync(e,t){let n;return null==t&&(t=0),n=this.scanner.findNextMatchSync(e,t),this.captureIndicesForMatch(e,n)}search(e,t,n){null==t&&(t=0),"function"==typeof t&&(n=t,t=0);try{n(null,this.searchSync(e,t))}catch(e){n(e)}}testSync(e){return"boolean"==typeof this.source||"boolean"==typeof e?this.source===e:null!=this.searchSync(e)}test(e,t){"function"!=typeof t&&(t=()=>{});try{t(null,this.testSync(e))}catch(e){t(e)}}captureIndicesForMatch(e,t){if(null!=t){const{captureIndices:n}=t;let r;e=this.scanner.convertToString(e);for(let t=0;t<n.length;t++)r=n[t],r.match=e.slice(r.start,r.end);return n}return null}}},710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(593),o=n(527),i=n(922);function a(e){const t=o.onigasmH._malloc(e.utf8Bytes.length);return o.onigasmH.HEAPU8.set(e.utf8Bytes,t),t}function s(e){const t=[];let n=0;for(;0!==o.onigasmH.HEAPU8[e];)t[n++]=o.onigasmH.HEAPU8[e++];return t.join()}const c=new r({dispose:(e,t)=>{const n=o.onigasmH._malloc(t.regexTPtrs.length);if(o.onigasmH.HEAPU8.set(t.regexTPtrs,n),0!==o.onigasmH._disposeCompiledPatterns(n,e.patterns.length)){const e=s(o.onigasmH._getLastError());throw new Error(e)}o.onigasmH._free(n)},max:1e3});class u{constructor(e){if(null===o.onigasmH)throw new Error("Onigasm has not been initialized, call loadWASM from 'onigasm' exports before using any other API");for(let t=0;t<e.length;t++)if("string"!=typeof e[t])throw new TypeError("First parameter to OnigScanner constructor must be array of (pattern) strings");this.sources=e.slice()}get patterns(){return this.sources.slice()}findNextMatch(e,t,n){null==t&&(t=0),"function"==typeof t&&(n=t,t=0);try{n(null,this.findNextMatchSync(e,t))}catch(e){n(e)}}findNextMatchSync(e,t){null==t&&(t=0),t=this.convertToNumber(t);let n=c.get(this),r=0;if(!n){const e=o.onigasmH._malloc(4),t=[];for(let n=0;n<this.sources.length;n++){const c=this.sources[n],u=a(new i.default(c));if(r=o.onigasmH._compilePattern(u,e),0!==r){const e=s(o.onigasmH._getLastError());throw new Error(e)}const l=o.onigasmH.HEAP32[e/4];t.push(l),o.onigasmH._free(u)}n={regexTPtrs:new Uint8Array(Uint32Array.from(t).buffer)},o.onigasmH._free(e),c.set(this,n)}const u=e instanceof i.default?e:new i.default(this.convertToString(e)),l=a(u),d=o.onigasmH._malloc(8),h=o.onigasmH._malloc(n.regexTPtrs.length);if(o.onigasmH.HEAPU8.set(n.regexTPtrs,h),r=o.onigasmH._findBestMatch(h,this.sources.length,l,u.utf8Bytes.length-1,u.convertUtf16OffsetToUtf8(t),d),0!==r){const e=s(o.onigasmH._getLastError());throw new Error(e)}const[f,p,m]=new Uint32Array(o.onigasmH.HEAPU32.buffer,d,3);if(o.onigasmH._free(l),o.onigasmH._free(d),o.onigasmH._free(h),m>0){const e=new Uint32Array(o.onigasmH.HEAPU32.buffer,p,m),t=[];let n=0,r=0;for(;n<m;){const o=r++;let i=e[n++],a=e[n++];u.hasMultiByteCharacters&&(i=u.convertUtf8OffsetToUtf16(i),a=u.convertUtf8OffsetToUtf16(a)),t.push({end:a,index:o,length:a-i,start:i})}return o.onigasmH._free(p),{captureIndices:t,index:f,scanner:this}}return null}convertToString(e){return void 0===e?"undefined":null===e?"null":e instanceof i.default?e.content:e.toString()}convertToNumber(e){return e=parseInt(e,10),isFinite(e)||(e=0),Math.max(e,0)}}t.OnigScanner=u,t.default=u},922:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){if(this.substring=(e,t)=>this.source.substring(e,t),this.toString=(e,t)=>this.source,"string"!=typeof e)throw new TypeError("Argument must be a string");this.source=e,this._utf8Bytes=null,this._utf8Indexes=null}get utf8Bytes(){return this._utf8Bytes||this.encode(),this._utf8Bytes}get utf8Indexes(){return this._utf8Bytes||this.encode(),this._utf8Indexes}get content(){return this.source}get length(){return this.source.length}get hasMultiByteCharacters(){return null!==this.utf8Indexes}convertUtf8OffsetToUtf16(e){if(e<0)return 0;if(e>=this._utf8Bytes.length-1)return this.source.length;const t=this.utf8Indexes;return t&&e>=this._mappingTableStartOffset?function(e,t){let n=0,r=e.length;if(0===r)return 0;for(;n<r;){const o=Math.floor((n+r)/2);e[o]>=t?r=o:n=o+1}for(;n>0&&(n>=e.length||e[n]>t);)n--;return n>0&&e[n]===e[n-1]&&n--,n}(t,e-this._mappingTableStartOffset)+this._mappingTableStartOffset:e}convertUtf16OffsetToUtf8(e){if(e<0)return 0;const t=this._utf8Bytes;if(e>=this.source.length)return t.length-1;const n=this.utf8Indexes;return n&&e>=this._mappingTableStartOffset?n[e-this._mappingTableStartOffset]+this._mappingTableStartOffset:e}encode(){const e=this.source,t=e.length;let n,r=0,o=0;function i(e){const i=3*(t-e);n=i<=255?new Uint8Array(t-e):i<=65535?new Uint16Array(t-e):new Uint32Array(t-e),o=e,n[r++]=0}const a=new Uint8Array(3*t+1);let s=0,c=0;for(;c<e.length;){let u;const l=e.charCodeAt(c);if(n&&(n[r++]=s-o),l<55296||l>57343)u=l;else if(l>=56320)u=65533;else if(c===t-1)u=65533;else{const t=e.charCodeAt(c+1);56320<=t&&t<=57343?(n||i(c),u=65536+((1023&l)<<10)+(1023&t),c+=1,n[r++]=s-o):u=65533}let d,h;if(u<=127?(d=1,h=0):u<=2047?(d=2,h=192):u<=65535?(d=3,h=224):(d=4,h=240),1===d)a[s++]=u;else for(n||i(s),a[s++]=(u>>6*--d)+h;d>0;){const e=u>>6*(d-1);a[s++]=128|63&e,d-=1}c+=1}const u=a.slice(0,s+1);u[s]=0,this._utf8Bytes=u,n&&(this._utf8Indexes=n,this._mappingTableStartOffset=o)}}},105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(527);t.loadWASM=r.loadWASM;const o=n(197);t.OnigRegExp=o.default;const i=n(710);t.OnigScanner=i.default;const a=n(922);t.OnigString=a.default},782:e=>{var t=("undefined"!=typeof document&&document.currentScript&&document.currentScript.src,function(e){var t,n=void 0!==(e=e||{})?e:{},r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);var o,i=[],a=!1,s=!1,c=!0,u="";function l(e){return n.locateFile?n.locateFile(e,u):u+e}c&&(o=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(y("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?i=scriptArgs:void 0!==arguments&&(i=arguments),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print));var d=n.print||console.log.bind(console),h=n.printErr||console.warn.bind(console);for(t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);r=null,n.arguments&&(i=n.arguments),n.thisProgram&&n.thisProgram,n.quit&&n.quit;var f,p,m=function(e){};n.wasmBinary&&(f=n.wasmBinary),n.noExitRuntime&&n.noExitRuntime,"object"!=typeof WebAssembly&&h("no native wasm support detected");var g=new WebAssembly.Table({initial:244,maximum:244,element:"anyfunc"}),v=!1;function y(e,t){e||Y("Assertion failed: "+t)}function b(e){var t=n["_"+e];return y(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function w(e,t,n,r,o){var i={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);j(e,t=_e(n),n)}return t},array:function(e){var t=_e(e.length);return S(e,t),t}},a=b(e),s=[],c=0;if(r)for(var u=0;u<r.length;u++){var l=i[n[u]];l?(0===c&&(c=xe()),s[u]=l(r[u])):s[u]=r[u]}var d=a.apply(null,s);return d=function(e){return"string"===t?k(e):"boolean"===t?Boolean(e):e}(d),0!==c&&ke(c),d}var x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function _(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.subarray&&x)return x.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var c=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|c:(7&a)<<18|s<<12|c<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var u=a-65536;i+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function k(e,t){return e?_(O,e,t):""}function C(e,t,n,r){if(!(r>0))return 0;for(var o=n,i=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(n>=i)break;t[n++]=s}else if(s<=2047){if(n+1>=i)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=i)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-o}function j(e,t,n){return C(e,O,t,n)}function S(e,t){A.set(e,t)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var E,A,O,T,P=65536;function R(e,t){return e%t>0&&(e+=t-e%t),e}function N(e){E=e,n.HEAP8=A=new Int8Array(e),n.HEAP16=new Int16Array(e),n.HEAP32=T=new Int32Array(e),n.HEAPU8=O=new Uint8Array(e),n.HEAPU16=new Uint16Array(e),n.HEAPU32=new Uint32Array(e),n.HEAPF32=new Float32Array(e),n.HEAPF64=new Float64Array(e)}var M=5507664,I=264624,F=n.TOTAL_MEMORY||157286400;function D(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?n.dynCall_v(r):n.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}(p=n.wasmMemory?n.wasmMemory:new WebAssembly.Memory({initial:F/P}))&&(E=p.buffer),F=E.byteLength,N(E),T[I>>2]=M;var L=[],B=[],G=[],z=[];function H(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)$(n.preRun.shift());D(L)}function U(){D(B)}function W(){D(G)}function V(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)Z(n.postRun.shift());D(z)}function $(e){L.unshift(e)}function Z(e){z.unshift(e)}Math.abs,Math.ceil,Math.floor,Math.min;var q=0,J=null,X=null;function K(e){q++,n.monitorRunDependencies&&n.monitorRunDependencies(q)}function Q(e){if(q--,n.monitorRunDependencies&&n.monitorRunDependencies(q),0==q&&(null!==J&&(clearInterval(J),J=null),X)){var t=X;X=null,t()}}function Y(e){throw n.onAbort&&n.onAbort(e),d(e+=""),h(e),v=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}n.preloadedImages={},n.preloadedAudios={};var ee="data:application/octet-stream;base64,";function te(e){return String.prototype.startsWith?e.startsWith(ee):0===e.indexOf(ee)}var ne="onigasm.wasm";function re(){try{if(f)return new Uint8Array(f);if(o)return o(ne);throw"both async and sync fetching of the wasm failed"}catch(e){Y(e)}}function oe(){return f||!a&&!s||"function"!=typeof fetch?new Promise((function(e,t){e(re())})):fetch(ne,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ne+"'";return e.arrayBuffer()})).catch((function(){return re()}))}function ie(){var e={env:ve,wasi_unstable:ve};function t(e,t){var r=e.exports;n.asm=r,Q()}function r(e){t(e.instance)}function o(t){return oe().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){h("failed to asynchronously prepare wasm: "+e),Y(e)}))}if(K(),n.instantiateWasm)try{return n.instantiateWasm(e,t)}catch(e){return h("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(f||"function"!=typeof WebAssembly.instantiateStreaming||te(ne)||"function"!=typeof fetch)return o(r);fetch(ne,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){h("wasm streaming compile failed: "+e),h("falling back to ArrayBuffer instantiation"),o(r)}))}))}(),{}}function ae(){Y()}function se(){return A.length}function ce(){return 264624}function ue(e,t,n){O.set(O.subarray(t,t+n),e)}function le(e){try{return p.grow(e-E.byteLength+65535>>16),N(p.buffer),1}catch(e){}}function de(e){var t=se(),n=2147418112;if(e>n)return!1;for(var r=Math.max(t,16777216);r<e;)r=r<=536870912?R(2*r,65536):Math.min(R((3*r+2147483648)/4,65536),n);return!!le(r)}te(ne)||(ne=l(ne)),B.push({func:function(){we()}});var he={buffers:[null,[],[]],printChar:function(e,t){var n=he.buffers[e];0===t||10===t?((1===e?d:h)(_(n,0)),n.length=0):n.push(t)},varargs:0,get:function(e){return he.varargs+=4,T[he.varargs-4>>2]},getStr:function(){return k(he.get())},get64:function(){var e=he.get();return he.get(),e},getZero:function(){he.get()}};function fe(e){try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||Y(e),e.errno}}function pe(e,t,n,r,o){try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||Y(e),e.errno}}function me(e,t,n,r){try{for(var o=0,i=0;i<n;i++){for(var a=T[t+8*i>>2],s=T[t+(8*i+4)>>2],c=0;c<s;c++)he.printChar(e,O[a+c]);o+=s}return T[r>>2]=o,0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||Y(e),e.errno}}function ge(e){m(0|e)}var ve={abort:ae,emscripten_get_sbrk_ptr:ce,emscripten_memcpy_big:ue,emscripten_resize_heap:de,fd_close:fe,fd_seek:pe,fd_write:me,memory:p,setTempRet0:ge,table:g},ye=ie();n.asm=ye;var be,we=n.___wasm_call_ctors=function(){return n.asm.__wasm_call_ctors.apply(null,arguments)},xe=(n._malloc=function(){return n.asm.malloc.apply(null,arguments)},n._free=function(){return n.asm.free.apply(null,arguments)},n._getLastError=function(){return n.asm.getLastError.apply(null,arguments)},n._compilePattern=function(){return n.asm.compilePattern.apply(null,arguments)},n._disposeCompiledPatterns=function(){return n.asm.disposeCompiledPatterns.apply(null,arguments)},n._findBestMatch=function(){return n.asm.findBestMatch.apply(null,arguments)},n.___cxa_demangle=function(){return n.asm.__cxa_demangle.apply(null,arguments)},n._setThrew=function(){return n.asm.setThrew.apply(null,arguments)},n.stackSave=function(){return n.asm.stackSave.apply(null,arguments)}),_e=n.stackAlloc=function(){return n.asm.stackAlloc.apply(null,arguments)},ke=n.stackRestore=function(){return n.asm.stackRestore.apply(null,arguments)};function Ce(e){function t(){be||(be=!0,v||(U(),W(),n.onRuntimeInitialized&&n.onRuntimeInitialized(),V()))}e=e||i,q>0||(H(),q>0||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),t()}),1)):t()))}if(n.__growWasmMemory=function(){return n.asm.__growWasmMemory.apply(null,arguments)},n.dynCall_vi=function(){return n.asm.dynCall_vi.apply(null,arguments)},n.dynCall_iiii=function(){return n.asm.dynCall_iiii.apply(null,arguments)},n.dynCall_iiiii=function(){return n.asm.dynCall_iiiii.apply(null,arguments)},n.dynCall_iii=function(){return n.asm.dynCall_iii.apply(null,arguments)},n.dynCall_iidiiii=function(){return n.asm.dynCall_iidiiii.apply(null,arguments)},n.dynCall_vii=function(){return n.asm.dynCall_vii.apply(null,arguments)},n.dynCall_ii=function(){return n.asm.dynCall_ii.apply(null,arguments)},n.dynCall_i=function(){return n.asm.dynCall_i.apply(null,arguments)},n.dynCall_v=function(){return n.asm.dynCall_v.apply(null,arguments)},n.dynCall_viiiiii=function(){return n.asm.dynCall_viiiiii.apply(null,arguments)},n.dynCall_viiiii=function(){return n.asm.dynCall_viiiii.apply(null,arguments)},n.dynCall_viiii=function(){return n.asm.dynCall_viiii.apply(null,arguments)},n.dynCall_jiji=function(){return n.asm.dynCall_jiji.apply(null,arguments)},n.asm=ye,n.ccall=w,n.then=function(e){if(be)e(n);else{var t=n.onRuntimeInitialized;n.onRuntimeInitialized=function(){t&&t(),e(n)}}return n},X=function e(){be||Ce(),be||(X=e)},n.run=Ce,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Ce(),e});e.exports=t},527:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(782);async function o(e){return new Promise(((n,o)=>{const{log:i,warn:a,error:s}=console;r({instantiateWasm:(t,n)=>(WebAssembly.instantiate(e,t).then((e=>{n(e.instance)})).catch((e=>{throw e})),{})}).then((e=>{t.onigasmH=e,n()})),"undefined"!=typeof print&&(console.log=i,console.error=s,console.warn=a)}))}let i=!1;t.loadWASM=async function(e){if(i)throw new Error("Onigasm#init has been called and was succesful, subsequent calls are not allowed once initialized");if("string"==typeof e){const t=await(await fetch(e)).arrayBuffer();await o(t)}else{if(!(e instanceof ArrayBuffer))throw new TypeError("Expected a string (URL of .wasm file) or ArrayBuffer (.wasm file itself) as first parameter");await o(e)}i=!0}},520:(e,t,n)=>{"use strict";var r=n(155),o="win32"===r.platform,i=n(539);function a(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];o&&"."!==o&&(".."===o?n.length&&".."!==n[n.length-1]?n.pop():t&&n.push(".."):n.push(o))}return n}function s(e){for(var t=e.length-1,n=0;n<=t&&!e[n];n++);for(var r=t;r>=0&&!e[r];r--);return 0===n&&r===t?e:n>r?[]:e.slice(n,r+1)}var c=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,u=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,l={};function d(e){var t=c.exec(e),n=(t[1]||"")+(t[2]||""),r=t[3]||"",o=u.exec(r);return[n,o[1],o[2],o[3]]}function h(e){var t=c.exec(e),n=t[1]||"",r=!!n&&":"!==n[1];return{device:n,isUnc:r,isAbsolute:r||!!t[2],tail:t[3]}}function f(e){return"\\\\"+e.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}l.resolve=function(){for(var e="",t="",n=!1,o=arguments.length-1;o>=-1;o--){var s;if(o>=0?s=arguments[o]:e?(s=r.env["="+e])&&s.substr(0,3).toLowerCase()===e.toLowerCase()+"\\"||(s=e+"\\"):s=r.cwd(),!i.isString(s))throw new TypeError("Arguments to path.resolve must be strings");if(s){var c=h(s),u=c.device,l=c.isUnc,d=c.isAbsolute,p=c.tail;if((!u||!e||u.toLowerCase()===e.toLowerCase())&&(e||(e=u),n||(t=p+"\\"+t,n=d),e&&n))break}}return l&&(e=f(e)),e+(n?"\\":"")+(t=a(t.split(/[\\\/]+/),!n).join("\\"))||"."},l.normalize=function(e){var t=h(e),n=t.device,r=t.isUnc,o=t.isAbsolute,i=t.tail,s=/[\\\/]$/.test(i);return(i=a(i.split(/[\\\/]+/),!o).join("\\"))||o||(i="."),i&&s&&(i+="\\"),r&&(n=f(n)),n+(o?"\\":"")+i},l.isAbsolute=function(e){return h(e).isAbsolute},l.join=function(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(!i.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&e.push(n)}var r=e.join("\\");return/^[\\\/]{2}[^\\\/]/.test(e[0])||(r=r.replace(/^[\\\/]{2,}/,"\\")),l.normalize(r)},l.relative=function(e,t){e=l.resolve(e),t=l.resolve(t);for(var n=e.toLowerCase(),r=t.toLowerCase(),o=s(t.split("\\")),i=s(n.split("\\")),a=s(r.split("\\")),c=Math.min(i.length,a.length),u=c,d=0;d<c;d++)if(i[d]!==a[d]){u=d;break}if(0==u)return t;var h=[];for(d=u;d<i.length;d++)h.push("..");return(h=h.concat(o.slice(u))).join("\\")},l._makeLong=function(e){if(!i.isString(e))return e;if(!e)return"";var t=l.resolve(e);return/^[a-zA-Z]\:\\/.test(t)?"\\\\?\\"+t:/^\\\\[^?.]/.test(t)?"\\\\?\\UNC\\"+t.substring(2):e},l.dirname=function(e){var t=d(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},l.basename=function(e,t){var n=d(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},l.extname=function(e){return d(e)[3]},l.format=function(e){if(!i.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!i.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);var n=e.dir,r=e.base||"";return n?n[n.length-1]===l.sep?n+r:n+l.sep+r:r},l.parse=function(e){if(!i.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=d(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},l.sep="\\",l.delimiter=";";var p=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,m={};function g(e){return p.exec(e).slice(1)}m.resolve=function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var o=n>=0?arguments[n]:r.cwd();if(!i.isString(o))throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,t="/"===o[0])}return(t?"/":"")+(e=a(e.split("/"),!t).join("/"))||"."},m.normalize=function(e){var t=m.isAbsolute(e),n=e&&"/"===e[e.length-1];return(e=a(e.split("/"),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},m.isAbsolute=function(e){return"/"===e.charAt(0)},m.join=function(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(!i.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&(e+=e?"/"+n:n)}return m.normalize(e)},m.relative=function(e,t){e=m.resolve(e).substr(1),t=m.resolve(t).substr(1);for(var n=s(e.split("/")),r=s(t.split("/")),o=Math.min(n.length,r.length),i=o,a=0;a<o;a++)if(n[a]!==r[a]){i=a;break}var c=[];for(a=i;a<n.length;a++)c.push("..");return(c=c.concat(r.slice(i))).join("/")},m._makeLong=function(e){return e},m.dirname=function(e){var t=g(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},m.basename=function(e,t){var n=g(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},m.extname=function(e){return g(e)[3]},m.format=function(e){if(!i.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!i.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);return(e.dir?e.dir+m.sep:"")+(e.base||"")},m.parse=function(e){if(!i.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=g(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},m.sep="/",m.delimiter=":",e.exports=o?l:m,e.exports.posix=m,e.exports.win32=l},155:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,c=[],u=!1,l=-1;function d(){u&&s&&(u=!1,s.length?c=s.concat(c):l=-1,c.length&&h())}function h(){if(!u){var e=a(d);u=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},251:(e,t,n)=>{"use strict";n(418);var r=n(156),o=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),t.Fragment=i("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:u,ref:l,props:i,_owner:a.current}}t.jsx=u,t.jsxs=u},893:(e,t,n)=>{"use strict";e.exports=n(251)},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],u=r.base?c[0]+r.base:c[0],l=i[u]||0,d="".concat(u," ").concat(l);i[u]=l+1;var h=n(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(f);else{var p=o(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:p,references:1})}a.push(d)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var c=r(e,o),u=0;u<i.length;u++){var l=n(i[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=c}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},496:e=>{"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},384:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},539:(e,t,n)=>{var r=n(155),o=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),c=r[n];n<i;c=r[++n])m(c)||!w(c)?a+=" "+c:a+=" "+s(c);return a},t.deprecate=function(e,o){if(y(n.g.process))return function(){return t.deprecate(e,o).apply(this,arguments)};if(!0===r.noDeprecation)return e;var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),i=!0}return e.apply(this,arguments)}};var i,a={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),l(r,e,r.depth)}function c(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return v(o)||(o=l(e,o,r)),o}var i=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),_(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(k(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(_(n))return d(n)}var u,w="",C=!1,j=["{","}"];return f(n)&&(C=!0,j=["[","]"]),k(n)&&(w=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(w=" "+RegExp.prototype.toString.call(n)),x(n)&&(w=" "+Date.prototype.toUTCString.call(n)),_(n)&&(w=" "+d(n)),0!==a.length||C&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=C?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)A(t,String(a))?i.push(h(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(h(e,t,n,r,o,!0))})),i}(e,n,r,s,a):a.map((function(t){return h(e,n,r,s,t,C)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(u,w,j)):j[0]+w+j[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,o,i){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),A(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?l(e,c.value,null):l(e,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===C(e)}function w(e){return"object"==typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===C(e)}function _(e){return w(e)&&("[object Error]"===C(e)||e instanceof Error)}function k(e){return"function"==typeof e}function C(e){return Object.prototype.toString.call(e)}function j(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(i)&&(i=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=w,t.isDate=x,t.isError=_,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(384);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",E(),t.format.apply(t,arguments))},t.inherits=n(496),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}},602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},411:(e,t,n)=>{"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,o=arguments.length;n<o;n++)t.push(arguments[n]);return t}function o(e,t,n){var r=t===e.head?new s(n,null,t,e):new s(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function i(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,r){if(!(this instanceof s))return new s(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,o=this.head;null!==o;)n.push(e.call(t,o.value,this)),o=o.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,o=this.tail;null!==o;)n.push(e.call(t,o.value,this)),o=o.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var o=0;null!==r;o++)n=e(n,r.value,o),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var o=this.length-1;null!==r;o--)n=e(n,r.value,o),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)n.push(i.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)n.push(i.value);return n},r.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var i=[];for(n=0;r&&n<t;n++)i.push(r.value),r=this.removeNode(r);for(null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev),n=2;n<arguments.length;n++)r=o(this,r,arguments[n]);return i},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(602)(r)}catch(e){}},156:t=>{"use strict";t.exports=e},111:e=>{"use strict";e.exports=t}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={id:e,exports:{}};return n[e].call(i.exports,i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";o.r(i),o.d(i,{MultiEditor:()=>tt,SingleEditor:()=>lt});var e=o(893),t=o(156),n=o.n(t),r=o(111),a=o.n(r),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)};const c=function(t){return(0,e.jsx)("svg",s({width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t,{children:(0,e.jsx)("path",{fill:"none",stroke:"currentColor",strokeWidth:2,d:"M3,3 L21,21 M3,21 L21,3"},void 0)}),void 0)};var u=o(379),l=o.n(u),d=o(795),h=o.n(d),f=o(569),p=o.n(f),m=o(565),g=o.n(m),v=o(216),y=o.n(v),b=o(589),w=o.n(b),x=o(619),_={};_.styleTagTransform=w(),_.setAttributes=g(),_.insert=p().bind(null,"head"),_.domAPI=h(),_.insertStyleElement=y(),l()(x.Z,_),x.Z&&x.Z.locals&&x.Z.locals;var k=function(){return k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},k.apply(this,arguments)};const C=function(t){var n=t.type,r=void 0===n?"default":n,o=t.className,i=void 0===o?"":o,a=t.children,s=t.onClick,c=void 0===s?function(){return null}:s,u=t.style;return(0,e.jsx)("div",k({onClick:c,style:u,className:"music-monaco-editor-button\n            music-monaco-editor-button-"+r+"\n            "+i},{children:a}),void 0)};var j=o(150),S={};S.styleTagTransform=w(),S.setAttributes=g(),S.insert=p().bind(null,"head"),S.domAPI=h(),S.insertStyleElement=y(),l()(j.Z,S),j.Z&&j.Z.locals&&j.Z.locals;var E=function(){return E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},E.apply(this,arguments)},A=function(n){var r=(0,t.useRef)(document.createElement("div"));return(0,t.useEffect)((function(){var e=n.getTarget()||document.body;n.visible?e&&e.appendChild(r.current):e&&e.contains(r.current)&&e.removeChild(r.current)}),[n.visible]),a().createPortal((0,e.jsxs)("div",E({className:"music-monaco-editor-modal"},{children:[(0,e.jsx)("div",{className:"music-monaco-editor-modal-mask",onClick:function(){return n.onClose&&n.onClose()}},void 0),(0,e.jsx)("div",E({className:"music-monaco-editor-modal-content"},{children:n.destroyOnClose&&!n.visible?null:n.children}),void 0)]}),void 0),r.current)};A.create=function(t){var n=document.createElement("div");function r(){o&&o.contains(n)&&o.removeChild(n)}a().render((0,e.jsxs)("div",E({className:"music-monaco-editor-modal "+(t.className||"")},{children:[(0,e.jsx)("div",{className:"music-monaco-editor-modal-mask",onClick:r},void 0),(0,e.jsx)("div",E({className:"music-monaco-editor-modal-content"},{children:t.content(r)}),void 0)]}),void 0),n);var o=t.target||document.body;return o&&o.appendChild(n),{close:function(){o&&o.contains(n)&&o.removeChild(n)}}},A.confirm=function(t){var n=document.createElement("div");function r(){o&&o.contains(n)&&o.removeChild(n)}a().render((0,e.jsxs)("div",E({className:"music-monaco-editor-modal "+(t.className||"")},{children:[(0,e.jsx)("div",{className:"music-monaco-editor-modal-mask",onClick:r},void 0),(0,e.jsxs)("div",E({className:"music-monaco-editor-modal-content music-monaco-editor-modal-content-confirm"},{children:[t.title&&(0,e.jsx)("div",E({className:"music-monaco-editor-modal-content-title"},{children:t.title}),void 0),(0,e.jsx)("div",E({className:"music-monaco-editor-modal-content-content"},{children:t.content(r)}),void 0),(0,e.jsxs)("div",E({className:"music-monaco-editor-modal-content-footer"},{children:[(0,e.jsx)(C,E({onClick:function(){t.onCancel?t.onCancel(r):r()}},{children:t.cancelText||"取消"}),void 0),(0,e.jsx)(C,E({onClick:function(){t.onOk&&t.onOk(r)},type:"primary",style:{marginLeft:"4px"}},{children:t.okText||"确认"}),void 0)]}),void 0),(0,e.jsx)("div",E({className:"music-monaco-editor-modal-content-close",onClick:r},{children:(0,e.jsx)(c,{style:{width:"12px",height:"12px"}},void 0)}),void 0)]}),void 0)]}),void 0),n);var o=t.target||document.body;return o&&o.appendChild(n),{close:function(){o&&o.contains(n)&&o.removeChild(n)}}};const O=A;var T="https://s5.music.126.net/static_public/6194df158463e8444a55b9d8_6194df158463e8444a55b9da/",P=["GithubDarkDefault"].concat(["GithubLightDefault"]),R=o(474),N={};N.styleTagTransform=w(),N.setAttributes=g(),N.insert=p().bind(null,"head"),N.domAPI=h(),N.insertStyleElement=y(),l()(R.Z,N),R.Z&&R.Z.locals&&R.Z.locals;const M=function(n){var r=n.type,o=void 0===r?"default_file":r,i=n.style,a=void 0===i?{}:i,s=n.className,c=void 0===s?"":s,u=(0,t.useState)(T+"icons/"+function(e){var t=e.split("_").slice(-1)[0],n={ts:"typescript",js:"js",tsx:"reactts",jsx:"reactjs",md:"markdown"};return n[t]?"file_type_"+n[t]:e}(o)+".svg"),l=u[0],d=u[1];return(0,e.jsx)("img",{onError:function(e){d(T+"icons/default_file.svg")},style:a,src:l,className:"music-monaco-icons "+c},void 0)};var I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},I.apply(this,arguments)};const F=function(n){var r,o=n.file,i=n.onPathChange,a=n.currentPath,s=n.onCloseFile,c=n.rootEl,u=n.onSaveFile,l=n.onAbortSave,d=n.onCloseOtherFiles,h=(0,t.useRef)(null),f=o.path.split("/").slice(-1)[0];r=o.path&&-1!==o.path.indexOf(".")?"file_type_"+o.path.split(".").slice(-1):"default_file";var p=a===o.path,m=(0,t.useCallback)((function(e){var t=e.currentTarget.dataset.src;i&&i(t)}),[i]);(0,t.useEffect)((function(){var e;p&&(null===(e=h.current)||void 0===e||e.scrollIntoView({block:"nearest"}))}),[p]);var g=(0,t.useState)(!1),v=g[0],y=g[1],b=(0,t.useState)(!1),w=b[0],x=b[1],_=(0,t.useCallback)((function(t){t.stopPropagation(),"editing"===o.status?setTimeout((function(){O.confirm({title:"是否要保存对本文件的修改",target:c.current,okText:"保存",cancelText:"不保存",onCancel:function(e){e(),l(o.path)},onOk:function(e){e(),s(o.path),u(o.path)},content:function(){return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:"如果不保存，你的更改将丢失"},void 0),(0,e.jsxs)("div",{children:["当前文件路径: ",o.path]},void 0)]},void 0)}})})):s(o.path)}),[o,s,l,c,u]),k=(0,t.useCallback)((function(t){if(2===t.button){var n=t.clientX,r=t.clientY;setTimeout((function(){O.create({title:"是否确认删除？",target:c.current,onOk:function(e){e()},content:function(t){return(0,e.jsxs)("div",I({style:{top:r+"px",left:n+"px"},className:"music-monaco-editor-rightclick-panel"},{children:[(0,e.jsx)("div",I({onClick:function(e){t(),_(e)},className:"music-monaco-editor-rightclick-panel-item"},{children:"Close"}),void 0),(0,e.jsx)("div",I({onClick:function(){t(),d(o.path)},className:"music-monaco-editor-rightclick-panel-item"},{children:"Close others"}),void 0),(0,e.jsx)("div",I({onClick:function(){t(),d("")},className:"music-monaco-editor-rightclick-panel-item"},{children:"Close all"}),void 0)]}),void 0)},className:"music-monaco-editor-modal-rightclick"})}))}}),[_,d,o.path,c]),C=!0;return("editing"!==o.status||w)&&("editing"===o.status||v||p)||(C=!1),(0,e.jsxs)("div",I({ref:h,onContextMenu:function(e){return e.preventDefault()},onMouseDown:k,onMouseOver:function(e){e.target instanceof HTMLElement&&("editing"===e.target.dataset.name?x(!0):x(!1)),y(!0)},onMouseLeave:function(){y(!1),x(!1)},"data-src":o.path,className:"music-monaco-editor-opened-tab-item "+(p?"music-monaco-editor-opened-tab-item-focused":""),onClick:m},{children:[(0,e.jsx)(M,{type:r,style:{marginRight:"2px"}},void 0),(0,e.jsx)("span",I({style:{flex:1,paddingRight:"5px"}},{children:f}),void 0),o.showPrefix&&(0,e.jsx)("span",I({className:"music-monaco-editor-opened-tab-item-prefix"},{children:o.prefix}),void 0),(0,e.jsx)("span",{"data-name":"editing",className:"music-monaco-editor-opened-tab-item-editing",style:{visibility:"editing"!==o.status||w?"hidden":"visible"}},void 0),(0,e.jsx)("span",I({"data-name":"editing",onClick:_,style:{visibility:C?"visible":"hidden"},className:"music-monaco-editor-opened-tab-item-close"},{children:"x"}),void 0)]}),void 0)};var D=o(798),L={};L.styleTagTransform=w(),L.setAttributes=g(),L.insert=p().bind(null,"head"),L.domAPI=h(),L.insertStyleElement=y(),l()(D.Z,L),D.Z&&D.Z.locals&&D.Z.locals;var B=function(){return B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},B.apply(this,arguments)};const G=function(t){var n=t.openedFiles,r=t.onPathChange,o=t.currentPath,i=t.onCloseFile,a=t.rootEl,s=t.onSaveFile,c=t.onAbortSave,u=t.onCloseOtherFiles,l=function(e){var t={},n=e.map((function(e){var t=e.path.split("/"),n=t.slice(-1)[0],r=t.slice(-2,-1)[0];return B({name:n,prefix:r?".../"+r:"./"},e)}));return n.forEach((function(e){t[e.name]?t[e.name]+=1:t[e.name]=1})),n.map((function(e){return B(B({},e),{showPrefix:t[e.name]>1})}))}(n);return(0,e.jsx)("div",B({className:"music-monaco-editor-opened-tab-wrapper"},{children:(0,e.jsx)("div",B({className:"music-monaco-editor-opened-tab"},{children:l.map((function(t){return(0,e.jsx)(F,{onSaveFile:s,onAbortSave:c,rootEl:a,onCloseFile:i,file:t,onPathChange:r,currentPath:o,onCloseOtherFiles:u},t.path)}))}),void 0)}),void 0)};var z=function(){return z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},z.apply(this,arguments)};const H=function(t){var n=t.className,r=t.onClick;return(0,e.jsx)("svg",z({onClick:r,className:n,width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 7H3V4H0V3h3V0h1v3h3v1H4v3zm6.5-5.9l3.4 3.5.1.4v8.5l-.5.5h-10l-.5-.5V8h1v5h9V6H9V2H5V1h5.2l.3.1zM10 2v3h2.9L10 2z",fill:"currentColor"},void 0)}),void 0)};var U=function(){return U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},U.apply(this,arguments)};const W=function(t){var n=t.className,r=t.onClick;return(0,e.jsx)("svg",U({className:n,onClick:r,width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3H4V0H3v3H0v1h3v3h1V4h3V3zM5.5 7H5V6h.3l.8-.9.4-.1H14V4H8V3h6.5l.5.5v10l-.5.5h-13l-.5-.5V5h1v8h12V6H6.7l-.8.9-.4.1z",fill:"currentColor"},void 0)}),void 0)};function V(e){return JSON.parse(JSON.stringify(e))}function $(e){var t=Object.keys(e),n={isDirectory:!0,children:{},path:"/"};return t.forEach((function(t){var r=t.slice(1).split("/"),o=n.children;r.forEach((function(n,i){i===r.length-1?o[n]={name:n,path:t,value:e[t],_isFile:!0}:(o[n]||(o[n]={_isDirectory:!0,children:{},path:"/"+r.slice(0,i+1).join("/"),name:n}),o=o[n].children)}))})),n}function Z(e,t,n){var r=V(e),o=(t||"/").slice(1).split("/"),i=o[o.length-1],a=r.children;return o.forEach((function(e,r){r===o.length-1?a[e]={name:i,value:n||"",path:t,_isFile:!0}:(a[e]||(a[e]={_isDirectory:!0,children:{},path:"/"+o.slice(0,r+1).join("/"),name:e}),a=a[e].children)})),r}function q(e,t){var n=V(e),r=(t||"/").slice(1).split("/"),o=n.children;return r.forEach((function(e,t){t===r.length-1?delete o[e]:(o[e]||(o[e]={_isDirectory:!0,children:{},path:"/"+r.slice(0,t+1).join("/"),name:e}),o=o[e].children)})),n}function J(e,t,n){var r=V(e),o=(t||"/").slice(1).split("/"),i=r.children;return o.forEach((function(e,n){n===o.length-1?i[e]={children:{},path:t,_isDirectory:!0,name:e}:(i[e]||(i[e]={_isDirectory:!0,children:{},path:"/"+o.slice(0,n+1).join("/"),name:e}),i=i[e].children)})),r}function X(e,t){var n=V(e),r=(t||"/").slice(1).split("/"),o=n.children;return r.forEach((function(e,t){t===r.length-1?delete o[e]:(o[e]||(o[e]={_isDirectory:!0,children:{},path:"/"+r.slice(0,t+1).join("/"),name:e}),o=o[e].children)})),n}function K(e,t,n){e.path=e.path.replace(t,n),e._isDirectory&&Object.keys(e.children).forEach((function(r){return K(e.children[r],t,n)}))}function Q(e,t,n){var r=V(e),o=(t||"/").slice(1).split("/"),i=r.children,a="/"+o.slice(0,-1).concat(n).join("/");return o.forEach((function(e,t){t===o.length-1?(i[n]={name:n,path:a,children:i[e].children,_isDirectory:!0},delete i[e]):(i[e]||(i[e]={_isDirectory:!0,children:{},path:"/"+o.slice(0,t+1).join("/"),name:e}),i=i[e].children)})),K(i[n],t+"/",a+"/"),r}function Y(e,t){var n=e.split("/");return n.splice(-1),n.push(t),{oldpath:e,newpath:n.join("/")}}function ee(e,t){var n=window.monaco.editor.getModels().find((function(t){return t.uri.path===e}));if(n)n.getValue()!==t&&n.pushEditOperations([],[{range:null==n?void 0:n.getFullModelRange(),text:t}],(function(){return[]}));else if(e){var r;r=-1!==e.indexOf(".")?e.split(".").slice(-1)[0]:"javascript",n=window.monaco.editor.createModel(t,{js:"javascript",ts:"typescript",less:"less",jsx:"javascript",tsx:"typescript"}[r]||r,(new window.monaco.Uri).with({path:e,scheme:"music"}))}}function te(e){Object.keys(e).forEach((function(t){var n=e[t];"string"==typeof n&&ee(t,n)}))}function ne(e){var t=window.monaco.editor.getModels().find((function(t){return t.uri.path===e}));t?t.dispose():console.warn("要删除的model不存在")}var re=new Promise((function(e){return t=void 0,n=void 0,o=function(){var t,n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(r){switch(r.label){case 0:return[4,fetch(T+"eslint.worker.js").then((function(e){return e.text()}))];case 1:return t=r.sent(),n=window.URL.createObjectURL(new Blob([t],{type:"application/javascript"})),e(new Worker(n)),[2]}}))},new((r=void 0)||(r=Promise))((function(e,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,s)}c((o=o.apply(t,n||[])).next())}));var t,n,r,o})),oe=function(){return oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},oe.apply(this,arguments)};const ie=function(t){var n=t.collpase;return void 0===n||n?(0,e.jsx)("svg",oe({width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},{children:(0,e.jsx)("path",{d:"M5.7 13.7L5 13l4.6-4.6L5 3.7l.7-.7 5 5v.7l-5 5z"},void 0)}),void 0):(0,e.jsx)("svg",oe({width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},{children:(0,e.jsx)("path",{d:"M7.976 10.072l4.357-4.357.619.618L8.285 11h-.618L3 6.333l.619-.618 4.357 4.357z"},void 0)}),void 0)};var ae=function(){return ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ae.apply(this,arguments)};const se=function(t){var n=t.className,r=t.onClick;return(0,e.jsx)("svg",ae({onClick:r,className:n,width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3h3v1h-1v9l-1 1H4l-1-1V4H2V3h3V2a1 1 0 011-1h3a1 1 0 011 1v1zM9 2H6v1h3V2zM4 13h7V4H4v9zm2-8H5v7h1V5zm1 0h1v7H7V5zm2 0h1v7H9V5z",fill:"currentColor"},void 0)}),void 0)};var ce=function(){return ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ce.apply(this,arguments)};const ue=function(t){var n=t.className,r=t.onClick;return(0,e.jsx)("svg",ce({onClick:r,className:n,width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,e.jsx)("path",{d:"M13.23 1h-1.46L3.52 9.25l-.16.22L1 13.59 2.41 15l4.12-2.36.22-.16L15 4.23V2.77L13.23 1zM2.41 13.59l1.51-3 1.45 1.45-2.96 1.55zm3.83-2.06L4.47 9.76l8-8 1.77 1.77-8 8z",fill:"currentColor"},void 0)}),void 0)};var le=function(){return le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},le.apply(this,arguments)},de=function(n){var r=n.getAllFiles,o=n.disableFileOps,i=void 0===o?{}:o,a=n.disableFolderOps,s=void 0===a?{}:a,c=n.file,u=n.onPathChange,l=n.currentPath,d=void 0===l?"":l,h=n.root,f=n.onAddFile,p=n.onConfirmAddFile,m=n.onDeleteFile,g=n.onEditFileName,v=n.onConfirmAddFolder,y=n.onAddFolder,b=n.onDeleteFolder,w=n.onEditFolderName,x=(0,t.useState)(!1),_=x[0],k=x[1],C=(0,t.useState)(!1),j=C[0],S=C[1],E=(0,t.useRef)(null),A=(0,t.useCallback)((function(){k((function(e){return!e}))}),[]),O=(0,t.useCallback)((function(e){var t=e.currentTarget.dataset.src;u(t)}),[u]),T=(0,t.useState)(""),P=T[0],R=T[1],N=(0,t.useCallback)((function(){var e;R("");var t=null===(e=E.current)||void 0===e?void 0:e.textContent;if(j){if(S(!1),c.name!==t)if(c._isDirectory)w(c.path,t);else if(t){var n=Y(c.path,t).newpath;r()[n]||g(c.path,t)}}else c._isDirectory?v(le(le({},c),{name:t})):p(le(le({},c),{name:t}))}),[r,j,c,g,p,v,w]),I=(0,t.useCallback)((function(){var e,t=null===(e=E.current)||void 0===e?void 0:e.textContent;if(!t)return R("文件名不能为空");if(c.name===t)return R("");var n=Y(c.path,t).newpath;if(r()[n])return R("文件名已存在");R("")}),[r,c]),F=(0,t.useCallback)((function(e){13===e.keyCode&&(e.preventDefault(),N())}),[N]);(0,t.useEffect)((function(){h||c.name||E.current.focus()}),[c,h]),(0,t.useEffect)((function(){var e,t;if(j){var n=c.name.indexOf(".");E.current.textContent=c.name,E.current.focus();var r=window.getSelection(),o=document.createRange();o.setStart(null===(e=E.current)||void 0===e?void 0:e.firstChild,0),o.setEnd(null===(t=E.current)||void 0===t?void 0:t.firstChild,n>0?n:c.name.length),null==r||r.removeAllRanges(),null==r||r.addRange(o)}}),[j,c]);var D=(0,t.useMemo)((function(){if(c._isFile)return[];var e=c.children,t=Object.keys(e).filter((function(t){return!e[t]._isFile})).sort(),n=Object.keys(e).filter((function(t){return e[t]._isFile})).sort();return t.concat(n)}),[c]);if((0,t.useEffect)((function(){d&&d.startsWith(c.path+"/")&&k(!0)}),[d,c.path]),c._isFile){var L;return L=c.name&&-1!==c.name.indexOf(".")?"file_type_"+c.name.split(".").slice(-1):"default_file",(0,e.jsxs)("div",le({"data-src":c.path,title:c.path,onClick:O,className:"music-monaco-editor-list-file-item-row "+(d===c.path?"music-monaco-editor-list-file-item-row-focused":"")},{children:[(0,e.jsx)(M,{type:L,style:{marginLeft:"14px",marginRight:"5px"}},void 0),c.name&&!j?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",le({style:{flex:1},className:"music-monaco-editor-list-file-item-row-name"},{children:c.name}),void 0),i.rename?null:(0,e.jsx)(ue,{onClick:function(e){e.stopPropagation(),S(!0)},className:"music-monaco-editor-list-split-icon"},void 0),i.delete?null:(0,e.jsx)(se,{onClick:function(e){e.stopPropagation(),m(c.path)},className:"music-monaco-editor-list-split-icon"},void 0)]},void 0):(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{onClick:function(e){e.stopPropagation()},onInput:I,spellCheck:!1,onKeyDown:F,onBlur:N,ref:E,className:"music-monaco-editor-list-file-item-new\n                                "+(P?"music-monaco-editor-list-file-item-new-error":""),contentEditable:!0},void 0)},void 0)]}),c.path)}return(0,e.jsxs)("div",le({className:"music-monaco-editor-list-file-item"},{children:[c._isDirectory&&(0,e.jsxs)("div",le({onClick:A,className:"music-monaco-editor-list-file-item-row",title:c.path},{children:[(0,e.jsx)(ie,{collpase:!_},void 0),(0,e.jsx)(M,{style:{marginRight:"5px"},type:_?"default_folder_opened":"default_folder"},void 0),c.name&&!j?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",le({style:{flex:1},className:"music-monaco-editor-list-file-item-row-name"},{children:c.name}),void 0),s.rename?null:(0,e.jsx)(ue,{onClick:function(e){e.stopPropagation(),S(!0)},className:"music-monaco-editor-list-split-icon"},void 0),s.delete?null:(0,e.jsx)(se,{onClick:function(e){e.stopPropagation(),b(c.path)},className:"music-monaco-editor-list-split-icon"},void 0),i.add?null:(0,e.jsx)(H,{onClick:function(e){e.stopPropagation(),k(!0),f(c.path+"/")},className:"music-monaco-editor-list-split-icon"},void 0),s.add?null:(0,e.jsx)(W,{onClick:function(e){e.stopPropagation(),k(!0),y(c.path+"/")},className:"music-monaco-editor-list-split-icon"},void 0)]},void 0):(0,e.jsx)("div",{onClick:function(e){e.stopPropagation()},spellCheck:!1,onKeyDown:F,onBlur:N,ref:E,className:"music-monaco-editor-list-file-item-new",contentEditable:!0},void 0)]}),void 0),(_||h)&&(0,e.jsx)("div",le({style:{paddingLeft:c._isDirectory?"7px":"0"}},{children:D.map((function(t){return(0,e.jsx)(de,{getAllFiles:r,disableFileOps:i,disableFolderOps:s,onEditFileName:g,onEditFolderName:w,onDeleteFile:m,onDeleteFolder:b,onConfirmAddFile:p,onConfirmAddFolder:v,onAddFile:f,onAddFolder:y,currentPath:d,root:!1,file:c.children[t],onPathChange:u},t)}))}),void 0)]}),void 0)};const he=de;var fe=o(856),pe={};pe.styleTagTransform=w(),pe.setAttributes=g(),pe.insert=p().bind(null,"head"),pe.domAPI=h(),pe.insertStyleElement=y(),l()(fe.Z,pe),fe.Z&&fe.Z.locals&&fe.Z.locals;var me=function(){return me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},me.apply(this,arguments)},ge=n().forwardRef((function(n,r){var o=n.defaultFiles,i=n.getAllFiles,a=n.onPathChange,s=n.title,c=n.currentPath,u=void 0===c?"":c,l=n.style,d=n.onAddFile,h=n.onDeleteFile,f=n.onEditFileName,p=n.onAddFolder,m=n.onDeleteFolder,g=n.onEditFolderName,v=n.rootEl,y=n.disableFileOps,b=void 0===y?{}:y,w=n.disableFolderOps,x=void 0===w?{}:w,_=(0,t.useState)((function(){return $(o)})),k=_[0],C=_[1];(0,t.useImperativeHandle)(r,(function(){return{refresh:function(e){return C($(e))}}}));var j=(0,t.useCallback)((function(e){C(Z(k,e))}),[k]),S=(0,t.useCallback)((function(t){O.confirm({target:v.current,okText:"删除",onOk:function(e){C(q(k,t)),h(t),e()},title:"是否确实要删除本文件",content:function(){return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:"删除后不可恢复"},void 0),(0,e.jsxs)("div",{children:["当前文件路径: ",t]},void 0)]},void 0)}})}),[k,h,v]),E=(0,t.useCallback)((function(e,t){C(function(e,t,n){var r=V(e),o=(t||"/").slice(1).split("/"),i=r.children;return o.forEach((function(e,t){t===o.length-1?(i[n]={name:n,path:"/"+o.slice(0,t).concat(n).join("/"),value:i[e].value,_isFile:!0},delete i[e]):(i[e]||(i[e]={_isDirectory:!0,children:{},path:"/"+o.slice(0,t+1).join("/"),name:e}),i=i[e].children)})),r}(k,e,t)),f(e,t)}),[k,f]),A=(0,t.useCallback)((function(e){var t={};e.name?(t=Z(t=q(k,e.path),e.path+e.name),d(e.path+e.name)):t=q(k,e.path),C(t)}),[k,d]),T=(0,t.useCallback)((function(e){C(J(k,e))}),[k]),P=(0,t.useCallback)((function(t){O.confirm({target:v.current,okText:"删除",onOk:function(e){C(X(k,t)),m(t),e()},title:"是否确实要删除此文件夹",content:function(){return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:"文件夹删除后不可恢复，同时会删除子文件夹"},void 0),(0,e.jsxs)("div",{children:["当前文件路径: ",t]},void 0)]},void 0)}})}),[k,m,v]),R=(0,t.useCallback)((function(e,t){C(Q(k,e,t)),g(e,t)}),[k,g]),N=(0,t.useCallback)((function(e){var t={};e.name?(t=J(t=X(k,e.path),e.path+e.name),p(e.path+e.name)):t=X(k,e.path),C(t)}),[k,p]);return(0,e.jsxs)("div",me({className:"music-monaco-editor-list-wrapper",style:l},{children:[s&&(0,e.jsxs)("div",me({className:"music-monaco-editor-list-title"},{children:[(0,e.jsx)("span",me({style:{flex:1},className:"music-monaco-editor-list-title-name"},{children:s}),void 0),b?null:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(H,{onClick:function(e){e.stopPropagation(),j("/")},className:"music-monaco-editor-list-title-icon"},void 0),(0,e.jsx)(W,{onClick:function(e){e.stopPropagation(),T("/")},className:"music-monaco-editor-list-title-icon"},void 0)]},void 0)]}),void 0),(0,e.jsx)("div",me({className:"music-monaco-editor-list-files"},{children:(0,e.jsx)(he,{getAllFiles:i,disableFileOps:b,disableFolderOps:x,onEditFileName:E,onEditFolderName:R,onDeleteFile:S,onDeleteFolder:P,onAddFile:j,onAddFolder:T,onConfirmAddFile:A,onConfirmAddFolder:N,currentPath:u,root:!0,file:k,onPathChange:a},void 0)}),void 0)]}),void 0)}));ge.displayName="filetree";const ve=n().memo(ge);var ye=function(){return ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ye.apply(this,arguments)};const be=function(t){var n=t.className;return(0,e.jsx)("svg",ye({className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:"1em",height:"1em"},{children:(0,e.jsx)("path",{d:"M10.33 1.67h-8c-.45-.02-.43-.67 0-.67h8c.44 0 .46.64 0 .67zm-8 2.66c-.45-.02-.43-.66 0-.66H7c.44 0 .45.64 0 .66H2.33zM5.67 3c-.46-.02-.44-.66 0-.67h6.66c.44.01.46.65 0 .67H5.67zm5.33.67c.44 0 .45.64 0 .66H8.33c-.45-.02-.43-.66 0-.66H11zm1.33.66c-.45-.02-.43-.66 0-.66H13c.44 0 .45.64 0 .66h-.67zm-10 1.34c-.45-.02-.43-.67 0-.67h1.34c.43 0 .45.64 0 .67H2.33zm8 0c-.45-.02-.43-.67 0-.67h3.34c.43 0 .45.64 0 .67h-3.34zM5 5.67C4.55 5.65 4.57 5 5 5h.67c.43 0 .45.64 0 .67H5zm-2.67 8c-.45-.02-.43-.67 0-.67h1.34c.43 0 .45.64 0 .67H2.33zm2.67 0c-.45-.02-.43-.67 0-.67h.67c.43 0 .45.64 0 .67H5zM10.33 7c-.45-.02-.43-.66 0-.67h3.34c.43.01.45.65 0 .67h-3.34zm-8 0c-.45-.02-.43-.66 0-.67h3.34c.43.01.45.65 0 .67H2.33zm0 5.33c-.45-.02-.43-.66 0-.66h3.34c.43 0 .45.64 0 .66H2.33zm0 2.67c-.45-.02-.43-.66 0-.67h3.34c.43.01.45.65 0 .67H2.33zm0-6.67c-.45-.02-.43-.66 0-.66H3c.44 0 .45.64 0 .66h-.67zm2 0c-.45-.02-.43-.66 0-.66h2c.44 0 .46.64 0 .66h-2zm3.34 0c-.46-.02-.44-.66 0-.66H13c.44 0 .45.64 0 .66H7.67zm2.66 1.34c-.45-.02-.43-.67 0-.67h2c.44 0 .46.64 0 .67h-2zm-4 0c-.45-.02-.43-.67 0-.67H9c.44 0 .45.64 0 .67H6.33zm-4 0c-.45-.02-.43-.67 0-.67H5c.44 0 .45.64 0 .67H2.33zm0 1.33c-.45-.02-.43-.66 0-.67H3c.44.01.45.65 0 .67h-.67zm2 0c-.45-.02-.43-.66 0-.67h6c.44.01.46.65 0 .67h-6zm-2-8c-.45-.02-.43-.66 0-.67h2c.44.01.46.65 0 .67h-2z"},void 0)}),void 0)};var we=o(115),xe={};xe.styleTagTransform=w(),xe.setAttributes=g(),xe.insert=p().bind(null,"head"),xe.domAPI=h(),xe.insertStyleElement=y(),l()(we.Z,xe),we.Z&&we.Z.locals&&we.Z.locals;var _e=function(){return _e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_e.apply(this,arguments)};const ke=function(n){return(0,t.useEffect)((function(){!function(){var e,t,n,r;e=this,t=void 0,r=function(){function e(e){var t=window.require("prettier");if(t.prettier){var n=t.prettier.format(e.getValue(),{filepath:e.uri.path,plugins:t.prettierPlugins,singleQuote:!0,tabWidth:4});return[{range:e.getFullModelRange(),text:n}]}}return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(t){return window.monaco.languages.registerDocumentFormattingEditProvider("javascript",{provideDocumentFormattingEdits:e}),window.monaco.languages.registerDocumentFormattingEditProvider("typescript",{provideDocumentFormattingEdits:e}),setTimeout((function(){window.monaco.languages.registerDocumentFormattingEditProvider("html",{provideDocumentFormattingEdits:e})}),3e3),window.monaco.languages.registerDocumentFormattingEditProvider("css",{provideDocumentFormattingEdits:e}),window.monaco.languages.registerDocumentFormattingEditProvider("less",{provideDocumentFormattingEdits:e}),[2]}))},new((n=void 0)||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}()}),[]),(0,e.jsx)("div",_e({},n,{children:(0,e.jsx)(be,{className:"music-monaco-editor-prettier-icon"},void 0)}),void 0)};var Ce=o(105),je=o(439),Se=o(954),Ee=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Ae=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Oe=!1,Te={"source.ts":"Typescript.tmLanguage.json","source.js":"Javascript.tmLanguage.json","source.js.jsx":"JavaScriptReact.tmLanguage.json","source.ts.tsx":"TypesSriptReact.tmLanguage.json","source.css":"css.tmLanguage.json","source.less":"less.tmLanguage.json","text.html.basic":"html.tmLanguage.json"},Pe={};function Re(e){return Ee(this,void 0,void 0,(function(){var t,n,r,o,i;return Ae(this,(function(a){switch(a.label){case 0:return(t=Pe[e])?[3,3]:(r=(n=JSON).parse,[4,fetch(T+"themes/"+e+".json?v=0")]);case 1:return[4,a.sent().text()];case 2:t=r.apply(n,[a.sent()]),Pe[e]=t,window.monaco.editor.defineTheme(e,t),a.label=3;case 3:return(o=document.getElementById("monaco-editor-theme-style"))||((o=document.createElement("style")).id="monaco-editor-theme-style",document.getElementsByTagName("head")[0].appendChild(o)),i="#music-monaco-editor-root {",Object.keys(t.colors).forEach((function(e){i+="--monaco-"+e.replace(".","-")+": "+(t.colors[e]||"rgba(0, 0, 0, 0)")+";"})),i+="}",o.innerHTML=i,window.monaco.editor.setTheme(e),[2]}}))}))}var Ne=function(){return Ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ne.apply(this,arguments)};const Me=function(e){var n=e.instance,r=e.targetRef,o=e.children,i=void 0===o?null:o,s=e.getContainer,c=e.onNotVisibleArea,u=void 0===c?function(){return{}}:c,l=s&&s()||document.body;return(0,t.useEffect)((function(){return l.appendChild(n),function(){l.contains(n)&&l.removeChild(n)}}),[n,l]),(0,t.useEffect)((function(){function e(){var e=r.current.getBoundingClientRect(),t=e.top,o=e.left,i=e.height,a=e.width,s=l.getBoundingClientRect(),c=s.top,u=s.left,d={top:l.scrollTop+(t-c)+i+1+"px",left:l.scrollLeft+(o-u)+"px"};return n.style.top=d.top,n.style.left=d.left,n.style.width=a+"px",{top:t,left:o,height:i}}function t(){var t=e(),n=t.top,r=t.height;l.offsetTop>n&&u(),n-l.offsetTop+r>l.offsetHeight&&u()}return e(),l.addEventListener("scroll",t),function(){l.removeEventListener("scroll",t)}}),[r,l]),a().createPortal(i,n)};var Ie=o(591),Fe={};Fe.styleTagTransform=w(),Fe.setAttributes=g(),Fe.insert=p().bind(null,"head"),Fe.domAPI=h(),Fe.insertStyleElement=y(),l()(Ie.Z,Fe),Ie.Z&&Ie.Z.locals&&Ie.Z.locals;var De=function(){return De=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},De.apply(this,arguments)},Le=document.createElement("div");Le.className="music-monaco-editor-select-items";var Be=function(r){var o=r.defaultValue,i=r.onChange,a=void 0===i?function(){return{}}:i,s=r.getContainer,c=r.children,u=r.value,l=void 0!==u,d=(0,t.useState)(o||""),h=d[0],f=d[1],p=l?u:h,m=(0,t.useState)(!1),g=m[0],v=m[1],y=(0,t.useState)({value:o,label:""}),b=y[0],w=y[1],x=(0,t.useRef)(null),_=s&&s()||document.body;(0,t.useEffect)((function(){if(c)for(var e=n().Children.toArray(c),t=0;t<e.length;t++){var r=e[t];if(n().isValidElement(r)&&r.props.value===p){w(r.props);break}}}),[p,c]),(0,t.useEffect)((function(){return function(){_.contains(Le)&&_.removeChild(Le)}}),[_]);var k=(0,t.useCallback)((function(e){l||f(e.value),w(e),v(!1),a&&a(e.value)}),[a,l]);return(0,e.jsxs)(n().Fragment,{children:[(0,e.jsx)("div",De({ref:x,className:"music-monaco-editor-select"},{children:(0,e.jsxs)("div",De({className:"music-monaco-editor-select-content",onClick:function(e){e.stopPropagation(),v((function(e){return!e}))}},{children:[b.label,(0,e.jsx)("div",De({className:"music-monaco-editor-select-content-arrow"},{children:(0,e.jsx)(ie,{collpase:!g},void 0)}),void 0)]}),void 0)}),void 0),g&&(0,e.jsx)(Me,De({instance:Le,targetRef:x,getContainer:s},{children:n().Children.toArray(c).map((function(e){return n().isValidElement(e)?n().cloneElement(e,{defaultValue:b.value,handleSelect:k}):e}))}),void 0)]},void 0)};Be.Menu=function(n){var r=n.label,o=void 0===r?"":r,i=n.value,a=(n.className,n.defaultValue),s=void 0===a?"":a,c=n.handleSelect,u=void 0===c?function(){return{}}:c,l=(0,t.useState)(!1),d=l[0],h=l[1];return(0,t.useEffect)((function(){s===i&&h(!0)}),[i,s]),(0,e.jsx)("div",Ne({onClick:function(){u({value:i,label:o})},className:"music-monaco-editor-select-item "+(d?"music-monaco-editor-select-item-selected":"")},{children:o}),void 0)};const Ge=Be;var ze=function(){return ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ze.apply(this,arguments)};const He=function(t){return(0,e.jsxs)("svg",ze({width:"32px",height:"32px",viewBox:"0 0 32 32",enableBackground:"new 0 0 32 32",id:"Stock_cut",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{children:[(0,e.jsx)("desc",{},void 0),(0,e.jsxs)("g",{children:[(0,e.jsx)("path",{d:"M31,19v-6h-4.425   c-0.252-0.888-0.611-1.729-1.065-2.51L29,7l-4-4l-3.49,3.49C21.028,6.21,20.525,5.967,20,5.761V1h-8v4.761   c-0.525,0.205-1.028,0.449-1.51,0.728L7,3L3,7l3.49,3.49C6.036,11.271,5.676,12.112,5.425,13H1v6h4.425   c0.252,0.888,0.611,1.729,1.065,2.51L3,25l4,4l3.49-3.49c0.482,0.28,0.986,0.523,1.51,0.728V31h8v-4.761   c0.525-0.205,1.028-0.449,1.51-0.728L25,29l4-4l-3.49-3.49c0.454-0.781,0.813-1.622,1.065-2.51H31z",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:2},void 0),(0,e.jsx)("circle",{cx:16,cy:16,fill:"none",r:5,stroke:"currentColor",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:2},void 0)]},void 0)]}),void 0)};var Ue=function(){return Ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ue.apply(this,arguments)};const We=function(r){var o=r.getTarget,i=r.autoPrettier,a=r.onAutoPrettierChange,s=r.defaultTheme,u=void 0===s?"OneDarkPro":s,l=r.disablePrettier,d=void 0!==l&&l,h=(0,t.useState)(!1),f=h[0],p=h[1],m=(0,t.useState)(u),g=m[0],v=m[1];return(0,t.useEffect)((function(){Re(u)}),[]),(0,e.jsxs)(n().Fragment,{children:[(0,e.jsx)("div",Ue({className:"music-monaco-editor-setting-button",onClick:function(){return p(!0)}},{children:(0,e.jsx)(He,{style:{width:"20px",height:"20px"}},void 0)}),void 0),(0,e.jsx)(O,Ue({destroyOnClose:!0,onClose:function(){return p(!1)},visible:f,getTarget:o},{children:(0,e.jsxs)("div",Ue({className:"music-monaco-editor-setting"},{children:[(0,e.jsxs)("div",Ue({className:"music-monaco-editor-setting-header"},{children:["设置",(0,e.jsx)("div",Ue({onClick:function(){return p(!1)},className:"music-monaco-editor-setting-header-close"},{children:(0,e.jsx)(c,{style:{width:"12px",height:"12px"}},void 0)}),void 0)]}),void 0),(0,e.jsxs)("div",Ue({className:"music-monaco-editor-setting-content"},{children:[d?null:(0,e.jsxs)("div",Ue({className:"music-monaco-editor-input-row"},{children:[(0,e.jsx)("div",Ue({className:"music-monaco-editor-input-name"},{children:"prettier"}),void 0),(0,e.jsxs)("div",Ue({className:"music-monaco-editor-input-value"},{children:[(0,e.jsx)("input",{defaultChecked:i,type:"checkbox",onChange:a},void 0),(0,e.jsx)("label",{children:"prettier on save"},void 0)]}),void 0)]}),void 0),(0,e.jsxs)("div",Ue({className:"music-monaco-editor-input-row"},{children:[(0,e.jsx)("div",Ue({className:"music-monaco-editor-input-name"},{children:"主题选择"}),void 0),(0,e.jsx)("div",Ue({className:"music-monaco-editor-input-value"},{children:(0,e.jsx)(Ge,Ue({value:g,getContainer:o,onChange:function(e){v(e),Re(e)}},{children:P.map((function(t){return(0,e.jsx)(Ge.Menu,{label:t,value:t},t)}))}),void 0)}),void 0)]}),void 0)]}),void 0)]}),void 0)}),void 0)]},void 0)};var Ve=function(){return Ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ve.apply(this,arguments)};var $e=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n},Ze=function(){return Ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ze.apply(this,arguments)},qe=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Je=function(){},Xe=n().forwardRef((function(n,r){var o=n.defaultPath,i=n.defaultTheme,a=void 0===i?"OneDarkPro":i,s=n.onPathChange,c=n.onValueChange,u=n.defaultFiles,l=void 0===u?{}:u,d=n.onFileChange,h=n.onFileSave,f=n.onRenameFile,p=n.ideConfig,m=void 0===p?{disableFileOps:{},disableFolderOps:{},disableEslint:!1,disableSetting:!1,disablePrettier:!1,saveWhenBlur:!1}:p,g=n.options,v=n.title,y=$e(s),b=$e(c),w=$e(d),x=$e(h),_=$e(g),k=(0,t.useRef)(null),C=(0,t.useRef)(null),j=(0,t.useRef)(null),S=(0,t.useRef)(""),E=(0,t.useRef)(Ze({},l)),A=(0,t.useRef)(),T=(0,t.useRef)(new Map),R=(0,t.useState)(o&&E.current[o]?[{path:o}]:[]),N=R[0],M=R[1],I=(0,t.useState)(o||""),F=I[0],D=I[1],L=(0,t.useRef)(o||""),B=(0,t.useRef)(""),z=function(e){var n=(0,t.useRef)(!0),r=(0,t.useCallback)((function(e){n.current=e.target.checked}),[]),o=(0,t.useCallback)((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.getAction("editor.action.formatDocument").run()}),[e]);return[n,r,o]}(j),H=z[0],U=z[1],W=z[2],V=function(e){var n=(0,t.useState)(180),r=n[0],o=n[1],i=(0,t.useRef)({pageX:0,width:0,start:!1}),a=(0,t.useCallback)((function(e){i.current={pageX:e.pageX,width:r,start:!0}}),[r]),s=(0,t.useCallback)((function(e){if(i.current.start){var t=i.current.width+(e.pageX-i.current.pageX);o(t>140?t:0)}}),[]),c=(0,t.useCallback)((function(e){i.current={pageX:e.pageX,width:0,start:!1}}),[]);return[(0,t.useMemo)((function(){return{width:r+"px"}}),[r]),a,s,c]}(),$=V[0],Z=V[1],q=V[2],J=V[3],X=(0,t.useRef)(m.disableEslint);X.current=m.disableEslint;var K=(0,t.useCallback)((function(e){var t,n,r=T.current,o=window.monaco.editor.getModels().find((function(t){return t.uri.path===e}));if(e!==S.current&&S.current&&r.set(S.current,null===(t=j.current)||void 0===t?void 0:t.saveViewState()),o&&j.current){if(j.current.setModel(o),e!==S.current){A.current&&A.current.dispose&&A.current.dispose();var i=r.get(e);i&&(null===(n=j.current)||void 0===n||n.restoreViewState(i));var a=null,s=o.getValue();B.current=s,A.current=o.onDidChangeContent((function(){var t=o.getValue();M((function(t){return t.map((function(t){return t.path===e&&(t.status="editing"),t}))})),w.current&&w.current(e,t),B.current=t,b.current&&b.current(t),a&&clearTimeout(a),a=setTimeout((function(){a=null,re.then((function(t){X.current||t.postMessage({code:o.getValue(),version:o.getVersionId(),path:e})}))}),500)}))}return re.then((function(t){X.current||t.postMessage({code:o.getValue(),version:o.getVersionId(),path:e})})),S.current=e,o}return A.current&&A.current.dispose&&A.current.dispose(),!1}),[w,b]),Q=(0,t.useCallback)((function(e,t){void 0===t&&(t=!0),e!==L.current&&(L.current=e,y.current&&e&&t&&y.current(e),D(e))}),[y]),oe=(0,t.useCallback)((function(e,t){void 0===t&&(t=!0),M((function(t){var n=!1;return t.forEach((function(t){t.path===e&&(n=!0)})),n?t:qe(qe([],t,!0),[{path:e}],!1)})),Q(e,t)}),[Q]),ie=(0,t.useCallback)((function(e,t){void 0===t&&(t=!0),K(e)&&oe(e,t)}),[K,oe]);(function(e,n,r,o,i,a){(0,t.useEffect)((function(){te(e.current),i&&o(i||"")}),[]),(0,t.useEffect)((function(){n.current&&(r.theme&&Re(r.theme),n.current.updateOptions(r))}),[r,n]),(0,t.useEffect)((function(){a&&window.monaco.languages.typescript.javascriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1}),re.then((function(e){return e.onmessage=function(e){var t;if(!a){var r=e.data,o=r.markers,i=r.version,s=null===(t=n.current)||void 0===t?void 0:t.getModel();s&&s.getVersionId()===i&&window.monaco.editor.setModelMarkers(s,"eslint",o)}}}))}),[n,a])})(E,j,g,ie,o,m.disableEslint),(0,t.useEffect)((function(){setTimeout((function(){o&&ie(o)}))}),[]);var ae=(0,t.useCallback)((function(e,t){var n;if(H.current&&!m.disablePrettier){var r=e||L.current;null===(n=W())||void 0===n||n.then((function(){M((function(e){return e.map((function(e){return e.path===r&&(e.status="saved"),e}))}));var e=(null==t?void 0:t.getValue())||"";E.current[r]=e,x.current&&x.current(r,e)}))}else M((function(e){return e.map((function(e){return e.path===L.current&&(e.status="saved"),e}))})),E.current[L.current]=B.current,x.current&&x.current(L.current,B.current)}),[W,H,m.disablePrettier,x]),se=function(e,n,r,o){var i=this,a=(0,t.useRef)(null);return(0,t.useEffect)((function(){e.current=window.monaco.editor.create(a.current,Ve(Ve({},n.current),{model:null}));var t=e.current._codeEditorService,s=t.openCodeEditor.bind(t);return t.openCodeEditor=function(e,t,n){return o=i,a=void 0,u=function(){var n,o;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(i){switch(i.label){case 0:return[4,s(e,t)];case 1:return null===(n=i.sent())&&(o=e.resource.path,t.setModel(window.monaco.editor.getModel(e.resource)),r(o),t.setSelection(e.options.selection),t.revealLine(e.options.selection.startLineNumber)),[2,n]}}))},new((c=void 0)||(c=Promise))((function(e,t){function n(e){try{i(u.next(e))}catch(e){t(e)}}function r(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){var o;t.done?e(t.value):(o=t.value,o instanceof c?o:new c((function(e){e(o)}))).then(n,r)}i((u=u.apply(o,a||[])).next())}));var o,a,c,u},e.current.onDidBlurEditorText((function(){var t,n=(null===(t=e.current)||void 0===t?void 0:t.getModel())||void 0,r=null==n?void 0:n.uri.path;o(r,n)})),function(){e.current&&e.current.dispose()}}),[r,e,n]),a}(j,_,oe,m.saveWhenBlur?ae:Je),ce=(0,t.useCallback)((function(e){var t="";if(N.length){var n=N.filter((function(n,r){return n.path===e&&(0===r?N[r+1]&&(t=N[r+1].path):t=N[r-1].path),n.path!==e}));t&&L.current===e&&(K(t),Q(t)),0===n.length&&(K(""),Q(""),S.current=""),M(n)}}),[K,N,Q]),ue=(0,t.useCallback)((function(t){var n=N.filter((function(e){return"editing"===e.status}));n.length?O.confirm({title:"是否要保留未保存文件的修改",target:k.current,okText:"保存",cancelText:"不保存",onCancel:function(e){e(),M((function(e){return e.filter((function(e){return e.path===t}))})),K(t),Q(t),n.forEach((function(e){var t=E.current[e.path]||"";ee(e.path,t)})),S.current=t},onOk:function(e){e(),n.forEach((function(e){var t=window.monaco.editor.getModels().find((function(t){return t.uri.path===e.path}));if(H.current){var n=window.require("prettier");if(!n.prettier)return;var r=n.prettier.format(null==t?void 0:t.getValue(),{filepath:null==t?void 0:t.uri.path,plugins:n.prettierPlugins,singleQuote:!0,tabWidth:4});E.current[e.path]=r,ee(e.path,r)}else E.current[e.path]=(null==t?void 0:t.getValue())||""})),M((function(e){return e.filter((function(e){return e.path===t}))})),K(t),Q(t),S.current=t},content:function(){return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:"如果不保存，你的更改将丢失"},void 0),(0,e.jsx)("div",{children:"未保存的文件路径:"},void 0),n.map((function(t){return(0,e.jsx)("div",{children:t.path},t.path)}))]},void 0)}}):(M((function(e){return e.filter((function(e){return e.path===t}))})),K(t),Q(t),S.current=t)}),[K,N,H,Q]),le=(0,t.useCallback)((function(e){ee(e,E.current[e]||""),ce(e)}),[ce]),de=(0,t.useCallback)((function(e){var t=e.ctrlKey||e.metaKey,n=e.keyCode;t&&83===n&&(e.preventDefault(),ae())}),[ae]),he=(0,t.useCallback)((function(e,t){ee(e,t||""),E.current[e]=t||"",ie(e)}),[ie]),fe=(0,t.useCallback)((function(e){ce(e),setTimeout((function(){ne(e)}),50),delete E.current[e]}),[ce]),pe=(0,t.useCallback)((function(e,t){var n=E.current[e]||"";fe(e);var r=Y(e,t),o=r.oldpath,i=r.newpath;he(i,n),f&&f(o,i)}),[fe,he,f]),me=(0,t.useCallback)((function(e){var t=!1;Object.keys(E.current).forEach((function(n){n.startsWith(e+"/")&&(t=!0)})),t||(E.current[e]=null)}),[]),ge=(0,t.useCallback)((function(e){delete E.current[e],Object.keys(E.current).forEach((function(t){t.startsWith(e+"/")&&"string"==typeof E.current[t]&&fe(t)}))}),[fe]),ye=(0,t.useCallback)((function(e,t){var n="/"+(e||"/").slice(1).split("/").slice(0,-1).concat(t).join("/");delete E.current[e],me(n),Object.keys(E.current).forEach((function(t){if(t.startsWith(e+"/")){var r=E.current[t];"string"==typeof r&&setTimeout((function(){ne(t);var o=t.replace(e+"/",n+"/");ee(o,r||""),E.current[o]=r||""}),50),delete E.current[t]}})),M((function(t){return t.map((function(t){return t.path.startsWith(e+"/")&&(t.path=t.path.replace(e+"/",n+"/")),t}))})),L.current.startsWith(e+"/")&&setTimeout((function(){ie(L.current.replace(e+"/",n+"/"))}),50)}),[ie,me]),be=(0,t.useRef)(null),we=(0,t.useCallback)((function(e){var t,n,r=e.start,o=e.end;be.current=null===(t=j.current)||void 0===t?void 0:t.deltaDecorations(be.current||[],[{range:new window.monaco.Range(r.line,r.column,o.line,o.column),options:{className:"music-monaco-editor-highlight",isWholeLine:!0}}]),null===(n=j.current)||void 0===n||n.revealLineInCenter(r.line)}),[]),xe=(0,t.useCallback)((function(e,t,n){if(te(e),Object.keys(E.current).forEach((function(t){e[t]?E.current[t]=e[t]:(fe(t),delete E.current[t])})),E.current=Ze({},e),M((function(t){return t.filter((function(t){return e[t.path]})).map((function(e){return Ze(Ze({},e),{status:"saved"})}))})),t!==L.current){var r=e[L.current]?L.current:"";t&&e[t]&&(r=t),ie(r)}n&&we(n),C.current.refresh(e)}),[fe,ie,we]),_e=(0,t.useCallback)((function(){return E.current}),[]);return(0,t.useImperativeHandle)(r,(function(){return{getValue:function(e){return E.current[e]},getAllValue:_e,getSupportThemes:function(){return P},setTheme:function(e){return Re(e)},refresh:xe}})),(0,e.jsxs)("div",Ze({ref:k,id:"music-monaco-editor-root",tabIndex:0,onKeyDown:de,onMouseMove:q,onMouseUp:J,className:"music-monaco-editor"},{children:[(0,e.jsx)(ve,{getAllFiles:_e,title:v,disableFileOps:m.disableFileOps,disableFolderOps:m.disableFolderOps,ref:C,rootEl:k,onEditFileName:pe,onDeleteFile:fe,onAddFile:he,onAddFolder:me,onDeleteFolder:ge,onEditFolderName:ye,style:$,currentPath:F,defaultFiles:l,onPathChange:ie},void 0),(0,e.jsx)("div",{onMouseDown:Z,className:"music-monaco-editor-drag"},void 0),(0,e.jsxs)("div",Ze({className:"music-monaco-editor-area"},{children:[(0,e.jsx)(G,{onCloseOtherFiles:ue,onSaveFile:ae,onAbortSave:le,rootEl:k,currentPath:F,openedFiles:N,onCloseFile:ce,onPathChange:ie},void 0),(0,e.jsx)("div",{ref:se,style:{flex:1,width:"100%"}},void 0),0===N.length&&(0,e.jsxs)("div",Ze({className:"music-monaco-editor-area-empty"},{children:[(0,e.jsx)("img",{src:"//p5.music.126.net/obj/wo3DlcOGw6DClTvDisK1/5759801316/fb85/e193/a256/03a81ea60cf94212bbc814f2c82b6940.png",className:"music-monaco-editor-area-empty-icon"},void 0),(0,e.jsx)("div",{children:v},void 0)]}),void 0)]}),void 0),m.disablePrettier?null:(0,e.jsx)(ke,{onClick:W,className:"music-monaco-editor-prettier"},void 0),m.disableSetting?null:(0,e.jsx)(We,{disablePrettier:m.disablePrettier,defaultTheme:a,getTarget:function(){return k.current},autoPrettier:H.current,onAutoPrettierChange:U},void 0)]}),void 0)}));const Ke=Xe;Xe.displayName="MultiEditorComp";var Qe=o(778),Ye={};Ye.styleTagTransform=w(),Ye.setAttributes=g(),Ye.insert=p().bind(null,"head"),Ye.domAPI=h(),Ye.insertStyleElement=y(),l()(Qe.Z,Ye),Qe.Z&&Qe.Z.locals&&Qe.Z.locals;var et=function(){return et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},et.apply(this,arguments)},tt=n().forwardRef((function(n,r){var o=(0,t.useState)(0)[1];return(0,t.useEffect)((function(){var e=setInterval((function(){o((function(e){return e+1})),window.monaco&&clearInterval(e)}),100);return function(){clearInterval(e)}}),[]),window.monaco?(0,e.jsx)(Ke,et({},n,{ref:r}),void 0):(0,e.jsx)("div",et({className:"music-monaco-editor-loading"},{children:(0,e.jsx)("img",{className:"music-monaco-editor-loading-icon",src:"https://p6.music.126.net/obj/wo3DlcOGw6DClTvDisK1/9879093207/2dbb/873a/9e97/e817279537a0417d042f62fbb1b99eea.gif"},void 0)}),void 0)}));tt.displayName="MultiEditorEntry";var nt=function(){return nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},nt.apply(this,arguments)},rt={theme:"GithubDarkDefault",fontSize:14,tabSize:2,fontFamily:"Menlo, Monaco, Courier New, monospace",folding:!0,minimap:{enabled:!1},autoIndent:"advanced",contextmenu:!0,useTabStops:!0,wordBasedSuggestions:!0,formatOnPaste:!0,automaticLayout:!0,lineNumbers:"on",wordWrap:"off",scrollBeyondLastLine:!1,fixedOverflowWidgets:!1,snippetSuggestions:"top",scrollbar:{vertical:"auto",horizontal:"auto",verticalScrollbarSize:10,horizontalScrollbarSize:10}};function ot(e){return void 0===e?e:String(e)}var it=n().forwardRef((function(n,r){var o=n.value,i=n.defaultValue,a=n.onChange,s=n.onBlur,c=n.width,u=void 0===c?"100%":c,l=n.height,d=void 0===l?"100%":l,h=n.loc,f=n.style,p=void 0===f?{}:f,m=n.options,g=void 0===m?{}:m,v=(0,t.useRef)(null),y=(0,t.useRef)(null),b=(0,t.useRef)(o);b.current=o;var w=(0,t.useRef)(a);w.current=a;var x=(0,t.useRef)(s);x.current=s;var _=(0,t.useRef)(null);(0,t.useImperativeHandle)(r,(function(){return{getEditor:function(){return null==v?void 0:v.current}}})),(0,t.useEffect)((function(){var e;v.current=window.monaco.editor.create(y.current,nt(nt({},g),rt));var t=window.monaco.editor.createModel(ot(b.current)||ot(i)||"",(null==g?void 0:g.language)||"javascript");v.current.setModel(t),_.current=t;var n=t.onDidChangeContent((function(){var e=t.getValue();e!==b.current&&w.current&&w.current(e)})),r=null===(e=v.current)||void 0===e?void 0:e.onDidBlurEditorText((function(){var e,t,n,r=(null===(t=null===(e=v.current)||void 0===e?void 0:e.getModel())||void 0===t?void 0:t.getValue())||"";null===(n=x.current)||void 0===n||n.call(x,r)}));return function(){v.current&&v.current.dispose(),n.dispose(),r.dispose(),t.dispose()}}),[]),(0,t.useEffect)((function(){v.current&&v.current.updateOptions(g||{})}),[g]);var k=(0,t.useRef)(null),C=(0,t.useCallback)((function(e,t){var n,r;if(e){var o=e.start,i=e.end;k.current=null===(n=v.current)||void 0===n?void 0:n.deltaDecorations(k.current||[],[{range:new window.monaco.Range(o.line,o.column,i.line,i.column),options:{className:"music-monaco-editor-highlight",isWholeLine:!0}}]),t&&(null===(r=v.current)||void 0===r||r.revealLineInCenter(o.line))}}),[]);return(0,t.useEffect)((function(){C(h,!1)}),[h,C]),(0,t.useEffect)((function(){g.language&&_.current&&window.monaco.editor.setModelLanguage(_.current,g.language)}),[g.language]),(0,t.useEffect)((function(){g.theme?Re(g.theme):Re("GithubLightDefault")}),[g.theme]),(0,t.useEffect)((function(){var e;if(void 0!==o){var t=null===(e=v.current)||void 0===e?void 0:e.getModel();o!==(null==t?void 0:t.getValue())&&(null==t||t.setValue(ot(o)||""),C(h,!0))}}),[o,C]),(0,e.jsx)("div",{ref:y,style:nt({width:u,height:d},p)},void 0)}));it.displayName="SingleEditor";const at=it;var st=o(125),ct={};ct.styleTagTransform=w(),ct.setAttributes=g(),ct.insert=p().bind(null,"head"),ct.domAPI=h(),ct.insertStyleElement=y(),l()(st.Z,ct),st.Z&&st.Z.locals&&st.Z.locals;var ut=function(){return ut=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ut.apply(this,arguments)},lt=n().forwardRef((function(n,r){var o=(0,t.useState)(0)[1];return(0,t.useEffect)((function(){var e=setInterval((function(){o((function(e){return e+1})),window.monaco&&clearInterval(e)}),100)}),[]),window.monaco?(0,e.jsx)(at,ut({},n,{ref:r}),void 0):(0,e.jsx)("div",ut({className:"music-monaco-editor-loading"},{children:(0,e.jsx)("img",{className:"music-monaco-editor-loading-icon",src:"https://p6.music.126.net/obj/wo3DlcOGw6DClTvDisK1/9879093207/2dbb/873a/9e97/e817279537a0417d042f62fbb1b99eea.gif"},void 0)}),void 0)}));lt.displayName="SingleEditor",function(){if(!Oe){var e,t;Oe=!0,"https://g.alicdn.com/code/lib/monaco-editor/0.31.1/min/vs/loader.min.js",e=function(){window.require.config({paths:{vs:"https://g.alicdn.com/code/lib/monaco-editor/0.31.1/min/vs"}}),window.require(["vs/editor/editor.main"],(function(){})),window.define("prettier",["https://unpkg.com/prettier@2.5.1/standalone.js","https://unpkg.com/prettier@2.5.1/parser-babel.js","https://unpkg.com/prettier@2.5.1/parser-html.js","https://unpkg.com/prettier@2.5.1/parser-postcss.js","https://unpkg.com/prettier@2.5.1/parser-typescript.js"],(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={babel:t[0],html:t[1],postcss:t[2],typescript:t[3]};return{prettier:e,prettierPlugins:r}}))},(t=document.createElement("script")).src="https://g.alicdn.com/code/lib/monaco-editor/0.31.1/min/vs/loader.min.js",document.getElementsByTagName("body")[0].appendChild(t),t.onload=e;var n=setInterval((function(){window.monaco&&(function(){var e=this;Ee(e,void 0,void 0,(function(){return Ae(this,(function(e){switch(e.label){case 0:return window.monaco.languages.typescript.javascriptDefaults.setEagerModelSync(!0),[4,(0,Ce.loadWASM)(T+"onigasm.wasm")];case 1:return e.sent(),function(){Ee(this,void 0,void 0,(function(){var e;return Ae(this,(function(t){switch(t.label){case 0:return[4,fetch(T+"@types/react/index.d.ts")];case 1:case 3:case 5:return[4,t.sent().text()];case 2:return e=t.sent(),window.monaco.languages.typescript.javascriptDefaults.setCompilerOptions({allowJs:!0,allowNonTsExtensions:!0,allowSyntheticDefaultImports:!0}),window.monaco.languages.typescript.javascriptDefaults.addExtraLib(e,"music:/node_modules/@types/react/index.d.ts"),window.monaco.languages.typescript.typescriptDefaults.addExtraLib(e,"music:/node_modules/@types/react/index.d.ts"),[4,fetch(T+"@types/react/global.d.ts")];case 4:return e=t.sent(),window.monaco.languages.typescript.javascriptDefaults.addExtraLib(e,"music:/node_modules/%40types/react/global.d.ts"),window.monaco.languages.typescript.typescriptDefaults.addExtraLib(e,"music:/node_modules/%40types/react/global.d.ts"),[4,fetch(T+"@types/react-dom/index.d.ts")];case 6:return e=t.sent(),window.monaco.languages.typescript.javascriptDefaults.addExtraLib(e,"music:/node_modules/@types/react-dom/index.d.ts"),window.monaco.languages.typescript.typescriptDefaults.addExtraLib(e,"music:/node_modules/@types/react-dom/index.d.ts"),[2]}}))}))}(),[2]}}))})),window.monaco.languages.register({id:"JavascriptReact"}),window.monaco.languages.register({id:"TypescriptReact"});var t=new Map;t.set("typescript","source.ts"),t.set("javascript","source.js"),t.set("JavascriptReact","source.js.jsx"),t.set("TypescriptReact","source.ts.tsx"),t.set("less","source.less"),t.set("css","source.css"),t.set("html","text.html.basic");var n=new je.Registry({getGrammarDefinition:function(t){return Ee(e,void 0,void 0,(function(){return Ae(this,(function(e){switch(e.label){case 0:return[4,fetch(T+"Grammars/"+Te[t])];case 1:return[4,e.sent().text()];case 2:return[2,{format:"json",content:e.sent()}]}}))}))}});setTimeout((function(){(0,Se.p)(window.monaco,n,t)}),3e3)}(),clearInterval(n))}),100)}}()})(),i})()}));